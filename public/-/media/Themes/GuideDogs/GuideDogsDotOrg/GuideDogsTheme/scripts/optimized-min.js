function scrollToTop(){document.body.scrollTop!==0||document.documentElement.scrollTop!==0?(window.scrollBy(0,-100),requestAnimationFrame(scrollToTop)):(document.body.focus(),window.location.hash="#wrapper")}function checkPosition(){var n=window.scrollY;n>window.innerHeight?(backToTop.classList.add("backtotop-showing"),backToTop.classList.remove("backtotop-hiding")):(backToTop.classList.add("backtotop-hiding"),backToTop.classList.remove("backtotop-showing"))}function debounce(n,t,i){t||(t=10);i||(i=!0);var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function trapFocus(n){var t=n.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),i=t[0];lastFocusableEl=t[t.length-1];KEYCODE_TAB=9;i.focus();n.addEventListener("keydown",function(n){var t=n.key==="Tab"||n.keyCode===KEYCODE_TAB;t&&(n.shiftKey?document.activeElement===i&&(lastFocusableEl.focus(),n.preventDefault()):document.activeElement===lastFocusableEl&&(i.focus(),n.preventDefault()))})}function loadScript(n){var t=document.createElement("script");return t.src=n,document.body.appendChild(t),new Promise(function(n,i){t.onload=n;t.onerror=i})}function initChatbot(){var n={parentOrigin:window.location.origin};GuideDogs.Chatbot(chatbotLoaderOptions,n)}function onMessageFromChatBot(n){if(n.origin===iframeOrigin&&n.ports)switch(n.data.event){case"ready":onLexWebUiReady(n);break;case"toggleMinimizeUi":onToggleMinimizeUi(n)}}function onLexWebUiReady(){var i=document.getElementById(chatbotLoaderOptions.elementId),t=document.body.classList.contains("lex-web-ui-iframe--minimize"),n;toggleMinimizeUi(t);n=new CustomEvent("lexWebUiMessage",{detail:{message:{event:"ping"}}});document.dispatchEvent(n)}function onToggleMinimizeUi(n){toggleMinimizeUi(n.data.state.isUiMinimized);n.ports[0].postMessage({event:"resolve",type:n.data.event})}function toggleMinimizeUi(n){if(!mql.matches){var t=document.body.classList;n||t.contains("no-scroll")?n&&t.contains("no-scroll")&&t.remove("no-scroll"):t.add("no-scroll")}}function todaysDate(){var n=new Date,t=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear();return t+"/"+i+"/"+r}function luckyLotteryWeeks(){var n=parseInt(jQuery(".js-luckyLotteryWeeks").val());luckyLotteryCalculateAmount(n)}function luckyLotteryCalculateAmount(n){if(Number.isInteger(n)){var t="0.00";switch(n){case 2:t="8.67";break;case 3:t="13.00";break;case 4:t="17.34";break;case 5:t="21.67";break;default:t="4.34"}jQuery(".js-luckyLotteryAmount").html(t);jQuery('input[data-sc-field-name="Amount"]').val(t);jQuery(".js-luckyLotteryCollectionSection").find("input[type=hidden]").val(t);sessionStorage.setItem("donation_amount",t)}}function establishTracking(){jQuery("[data-sc-field-name='DonationPromptList']").change(function(){sessionStorage.setItem("donation_prompt",jQuery('[data-sc-field-name="DonationPromptList"]').val())});var n=[];jQuery('.StayInTouchChoicesSection input[type="checkbox"]').change(function(){n=[];jQuery('.StayInTouchChoicesSection input[type="checkbox"]').each(function(){var t=$(this).data("sc-field-name");this.checked&&n.push(t)});sessionStorage.setItem("stay_in_touch",n)});jQuery("[data-sc-field-name='GiftAidSelection']").change(function(){var n=this.name,t=$("input:radio[name='"+n+"']:checked").val();sessionStorage.setItem("gift_aid",t)});jQuery("[data-sc-field-name='GiftAidChoices']").change(function(){var n=this.name,t=$("input:radio[name='"+n+"']:checked").val();sessionStorage.setItem("gift_aid",t)});jQuery("[data-sc-field-name='AlternativeFormat']").change(function(){sessionStorage.setItem("alternative_format",jQuery('[data-sc-field-name="AlternativeFormat"]').val())});jQuery("[data-sc-field-name='SponsoringFor']").change(function(){var n=this.name,t=$("input:radio[name='"+n+"']:checked").val();sessionStorage.setItem("selected_sponsoring",t)})}function checkDobFields(){var n=[],u,i,f,r,t,e,o,s;jQuery(".form__dob select").on("change",function(){if(n=[],jQuery(".form__dob > div select").each(function(){var t=jQuery(this).val();jQuery(this).removeClass("input-validation-error");t!=null&&n.push(t)}),n.length<3)jQuery(".js-validateDOB").val("");else{var t=n.join(","),i=new Date(t),r=new Date,u=Math.round(Math.abs((i.getTime()-r.getTime())/864e5));jQuery(".js-validateDOB").hasClass("js-validate16")?u/365>16.01?(jQuery(".js-validateDOB").val(n),jQuery(".js-validateDOB + .field-validation-error").empty()):jQuery(".js-validateDOB").val(""):(jQuery(".js-validateDOB").val(n),jQuery(".js-validateDOB + .field-validation-error").empty())}});u=new MutationObserver(function(n){n.forEach(function(n){if(n.attributeName==="class"){var t=jQuery(n.target).prop(n.attributeName);t.indexOf("input-validation-error")>=0?jQuery(".form__dob > div select").each(function(){jQuery(this).addClass("input-validation-error")}):jQuery(".form__dob > div select").each(function(){jQuery(this).removeClass("input-validation-error")})}})});i=jQuery(".js-validateDOB");i.length>0&&u.observe(i[0],{attributes:!0});jQuery(".js-validateDOB").css("visibility","hidden");jQuery(".js-validateDOB").css("height","0");jQuery(".js-validateDOB").css("margin","0");jQuery(".js-validateDOB").css("padding","0");f=jQuery(".js-validateDOB").attr("id");jQuery("label[for='"+f+"']").hide();r=jQuery(".js-validateDOB").val();r&&(t=r.split(","),t.length>0&&(e=t[0],jQuery(".form__dob-day select").val(e),o=t[1],jQuery(".form__dob-month select").val(o),s=t[2],jQuery(".form__dob-year select").val(s)))}function progressIndicatorAnimation(n){jQuery(".js-progressBarFill").width(100*n/progressBarItems.length+"%")}function toggleNav(){mobileNavBtn.classList.toggle("is-open");isMobileNavOpen=!isMobileNavOpen;mobileNavBtn.setAttribute("aria-expanded",isMobileNavOpen);mobileNavBtn.querySelector(".mobile__nav__text").innerHTML=isMobileNavOpen?"Close":"Menu";mobileNav.classList.toggle("is-active");document.body.classList.toggle("is-overflow-hidden");mobileNav.querySelector(".mobile__nav__links").classList.toggle("is-invisible")}function stringToSlug(n){return n.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}function getQuery(){var n=decodeURIComponent(window.location.href.split("q=")[1]);return n.indexOf("&")>0&&(n=n.substring(0,n.indexOf("&"))),n=="undefined"&&(n=""),htmlEntities(n)}function htmlEntities(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function arrayToStringForEmail(n){return n.length>1?n.join(" and "):n.toString()}function searchPuppyName(n){return jQuery('input[data-sc-field-name="'+n+'"]').val()}function capitalizeFirstLetter(n){return n.charAt(0).toUpperCase()+n.slice(1)}function generateCertificateUrl(){var u=capitalizeFirstLetter(sessionStorage.getItem("first_name")),f=capitalizeFirstLetter(sessionStorage.getItem("last_name")),r=sessionStorage.getItem("selected_puppies_name"),e=sessionStorage.getItem("selected_sponsoring"),i,t,n;if(e==="myself")jQuery.get(siteUrl+"/guidedogsapi/sapdownloads/GetCertificateLink?firstname1="+u+"&lastname1="+f+"&puppy1="+r,function(n){jQuery('input[data-sc-field-name="CertificateUrl"]').val(n)});else if(i=r.split(","),t=[],jQuery('input[data-sc-field-name^="RecipientFirstName"]').each(function(n){var e=jQuery(this),r=e.attr("data-sc-field-name"),u=r.substr(r.length-1),f=encodeURIComponent(jQuery('input[data-sc-field-name="RecipientFirstName'+[u]+'"]').val()),o=encodeURIComponent(jQuery('input[data-sc-field-name="RecipientLastName'+[u]+'"]').val());f&&i[n]&&t.push({firstName:f,lastName:o,puppy:i[n]})}),t.length)for(n=0;n<t.length;n++)jQuery.ajax({url:siteUrl+"/guidedogsapi/sapdownloads/GetCertificateLink?firstname1="+t[n].firstName+"&lastname1="+t[n].lastName+"&puppy1="+t[n].puppy,success:function(i){jQuery('input[data-sc-field-name="RecipientFirstNameSAP'+[n+1]+'"]').val(decodeURIComponent(t[n].firstName));jQuery('input[data-sc-field-name="RecipientLastNameSAP'+[n+1]+'"]').val(decodeURIComponent(t[n].lastName));jQuery('input[data-sc-field-name="CertificateUrl'+[n+1]+'"]').val(i)},async:!1})}function generatePuppyPhotoZips(){for(var t=sessionStorage.getItem("selected_puppies_name"),t=t.split(","),n=0;n<t.length;n++)jQuery('input[data-sc-field-name="ImageUrl'+[n+1]+'"]').val("/guidedogsapi/SAPPuppyPhotoZipCreator/GeneratePuppyPhotosZip?puppy1="+t[n])}function sponsorAPuppyMonthlyDonation(){var n=jQuery(".js-amountPodAmountRadio"),t=selectedPuppies.length>=2?selectedPuppies.length:1;n.each(function(){var i=jQuery(this),u=parseFloat(i.attr("data-value")).toFixed(2),n=(u*t).toFixed(2),r=i.parentsUntil(".donation__amount__item");r.find(".js-amountPodAmount").html(n);r.find(".js-amountPodAmountRadio").val(n);i.is(":checked")&&(jQuery(".js-amountPod").val(n),sessionStorage.setItem("donation_amount",n));fillInWhyThisAmount()})}function fillInWhyThisAmount(){var i=selectedPuppies.length>=2?selectedPuppies.length:1,n=jQuery(".js-donationAmountWhyThisAmount"),r,t;sessionStorage.getItem("selected_sponsorship")!==null?(r=sessionStorage.getItem("selected_sponsorship"),t=r==="monthly"?parseFloat(n.attr("data-monthly")).toFixed(2):parseFloat(n.attr("data-single")).toFixed(2)):t=parseFloat(n.attr("data-monthly")).toFixed(2);n.html(t*i);jQuery(".js-amountPod").attr({min:parseFloat(t*i).toFixed(2)})}function urlParam(n){var t=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.href);return t==null?null:decodeURI(t[1])||0}function checkSonic(){var n,t;if(localStorage.getItem("gdSonic"))for(n=0;n<svgLogo.length;n++)svgLogo[n].classList.remove("delay"),svgLogo[n].classList.add("animating");else{if(svgAudio&&!inEditor)playSonic();else for(t=0;t<svgLogo.length;t++)svgLogo[t].classList.remove("delay"),svgLogo[t].classList.add("animating");localStorage.setItem("gdSonic",!0)}}function playSonic(){var t,n;for(localStorage.getItem("gdSonic")||(t=svgAudio.play(),t!==undefined&&t.then(function(){}).catch(function(){})),n=0;n<svgLogo.length;n++)svgLogo[n].classList.remove("delay"),svgLogo[n].classList.add("animating")}function selectedVolunteering(){var n=jQuery(".js-volunteeringUl"),t=jQuery(".js-volunteeringUlRemove"),i;n.empty();t.empty();opportunites.forEach(function(i,r){jQuery(".js-volunteeringRole"+r+" [data-sc-field-name]").val(i.type+": "+i.location);n.append('<li class="c-volunteering__list-item c-volunteering__list-item--modified"> <span class="c-donateAnHourResults__opportunities c-donateAnHourResults__opportunities--modified"><span class="c-donateAnHourResults__opportunities--type">'+i.type+'<\/span> <p class="c-donateAnHourResults__opportunities--location">'+i.location+'<\/p><\/span><a class="c-volunteering__remove-link js-volunteeringRemoveLink" data-id="'+i.id+'" href="/" title="remove this role">Remove this role<\/a><\/li>');i.type==="Puppy Walker"&&t.append('<li class="c-volunteering__list-item c-volunteering__list-item--modified"> <span class="c-donateAnHourResults__opportunities c-donateAnHourResults__opportunities--modified"><span class="c-donateAnHourResults__opportunities--type">'+i.type+'<\/span> <p class="c-donateAnHourResults__opportunities--location">'+i.location+'<\/p><\/span><a class="c-volunteering__remove-link js-volunteeringRemoveLink" data-id="'+i.id+'" href="/" title="remove this role">Remove this role<\/a><\/li>');jQuery(".js-volunteeringSupervisor"+r+" [data-sc-field-name]").val(i.supervisor);jQuery(".js-volunteeringDistance"+r+" [data-sc-field-name]").val(i.distance);jQuery(".js-volunteeringAddress"+r+" [data-sc-field-name]").val(i.region);jQuery(".js-volunteeringPositionsAvailable"+r+" [data-sc-field-name]").val(i.positions);jQuery(".js-volunteeringOpportunityName"+r+" [data-sc-field-name]").val(i.opportunityname)});i=jQuery("#postcode").val();jQuery(".js-volunteeringPostcode [data-sc-field-name]").val(i);toggleSelectedCheckbox()}function removeElementById(n){var t=n;opportunites=opportunites.filter(function(n){return n.id!=t});selectedVolunteering()}function toggleVolunteeringForm(){opportunites.length?(jQuery(".js-volunteeringForm").show(),jQuery("html, body").animate({scrollTop:$(".js-volunteeringForm").offset().top},1e3),jQuery(".js-volunteeringProceedBtn").prop("disabled",!0),jQuery(".js-volunteeringForm input:radio").prop("checked",!1),jQuery(".js-volunteeringQuestion input:radio").removeAttr("checked"),jQuery(".js-volunteeringScreening").hide(),jQuery(".js-volunteeringFormError").hide()):jQuery(".js-volunteeringForm").hide()}function toggleSelectedCheckbox(){var n=jQuery(".js-volunteeringCheckbox");rolesSelected=[];locationsSelected=[];n.each(function(){var n=jQuery(this),t=n.data("id");n.is(":checked")?(jQuery('.js-volunteeringCheckbox[data-id="'+t+'"]').parent().parent().addClass("is-selected"),rolesSelected.push(n.data("type")),locationsSelected.push(n.data("location"))):jQuery('.js-volunteeringCheckbox[data-id="'+t+'"]').parent().parent().removeClass("is-selected")});sessionStorage.setItem("roles_selected",rolesSelected);sessionStorage.setItem("locations_selected",locationsSelected)}var motion,backToTop,breadcrumb,hero,chatbotLoaderOptions,siteUrl,bankAccountValid,postcodeValStatus,progressBarItems,positionElements,initPhotoSwipeFromDOM,s,objectFitImages,onThisPageList,allH2s,podcast,mp3,img,opportunites,rolesSelected,locationsSelected,resizeTimer;window.accordionToggles=function(){(function(n){"use strict";var t=[];jQuery(window).width()>640&&jQuery(".js-accordionToggle.c-footerSection__mobileTitle").each(function(){var n=jQuery(this).siblings(".js-accordionContent");n.attr("aria-hidden",!1)});n(".js-accordionToggle").click(function(i){i.preventDefault();t=[];var u=n(this).attr("aria-expanded"),r=n(this).siblings(".js-accordionContent");u==="true"?(n(this).attr("aria-expanded",!1),r.attr("aria-hidden",!0)):(n(this).attr("aria-expanded",!0),r.attr("aria-hidden",!1));n(this).hasClass("c-footerSection__mobileTitle")&&(u==="true"?(n(this).removeClass("active"),r.hide()):(n(this).addClass("active"),r.show()))})})(jQuery)};window.accordionToggles();motion=!0;window.matchMedia("(prefers-reduced-motion)").matches&&(motion=!1);backToTop=document.querySelector(".js-backtotop");backToTop&&(backToTop.classList.add("backtotop-hiding"),window.addEventListener("scroll",debounce(checkPosition)),backToTop.querySelector("a").addEventListener("click",function(n){n.preventDefault();motion?requestAnimationFrame(scrollToTop):(window.scrollTo(0,0),document.body.focus())},!1));breadcrumb=document.querySelector(".c-breadCrumb");hero=document.querySelector(".c-breadCrumb + .c-hero");breadcrumb&&hero&&(breadcrumb.classList.add("on-hero"),hero.classList.contains("c-hero--primary")&&breadcrumb.classList.add("primary"),hero.classList.contains("c-hero--secondary")&&breadcrumb.classList.add("secondary"));window.addEventListener("load",function(){var n,t,i;if(jQuery(".sitecore-form").length){if(n=bowser.getParser(window.navigator.userAgent),jQuery('input[data-sc-field-name="browserDetails"]').length){var r=n.getBrowser().name,u=n.getBrowser().version,f=n.getOS().name,e=n.getOS().version;jQuery('input[data-sc-field-name="browserDetails"]').val(r+" "+u+" ("+f+" "+e+")")}t=n.satisfies({windows:{"internet explorer":"<11",edge:"<17"},macos:{safari:"<11.1"},mobile:{safari:"<11","android browser":"<3.10"},tablet:{safari:"<11","android browser":"<3.10"},SamsungBrowser:"<9.0.01.80",chrome:"<40",firefox:"<63",opera:"<30"});t&&jQuery(".c-browserBanner").length&&(jQuery("body").addClass("no-scroll"),jQuery("html").addClass("no-scroll"),jQuery(".c-browserBanner").addClass("showing"),i=jQuery(".c-browserBanner__wrapper"),trapFocus(i[0]))}});"use strict";var inEditor=document.querySelector(".on-page-editor"),chatbot=document.querySelector(".c-chatbot"),iframeOrigin="https://chatbot.guidedogs.org.uk",mql=window.matchMedia("(min-width: 60em)");if(chatbot&&chatbot.dataset.sdk!=""&&!inEditor){var path=chatbot.dataset.sdk.split("/"),protocol=path[0],host=path[2];iframeOrigin=protocol+"//"+host;loadScript(chatbot.dataset.sdk).then(function(){initChatbot()}).catch(function(){console.error("Unable to load chatbot")})}chatbotLoaderOptions={containerClass:"lex-web-ui-iframe",elementId:"lex-web-ui-iframe"};window.addEventListener("message",onMessageFromChatBot,!1);XA.component.accordions=function(n){function r(t){var i=n(t),r=n(t).find("img"),u=r.attr("src");u&&(i.parents(".accordion").addClass("accordion-image"),i.css({background:"url("+u+")","background-repeat":"no-repeat","background-size":"cover","background-position":"50% 100%"}),r.hide())}function u(t){var u=n(t).width(),i=n(t).find(".item"),r=0;_.each(i,function(f){var s=n(f).find(".toggle-content"),e=n(f).find(".toggle-header"),o=u-i.length*e.outerWidth();n(f).hasClass("active")&&n(f).css({width:o});s.css({width:n(t).hasClass("accordion-image")?o+e.outerWidth():o-e.outerWidth()-parseInt(e.css("padding"))});n(f).find(".toggle-content").height()>r&&(r=n(f).find(".toggle-content").height())})}function f(n){var t=n[0].id;return n.length>0&&t!=""?t.toLocaleLowerCase():null}function e(f,e){var s="click",h=n("body"),o=f.find(".toggle-header");e.expandOnHover&&(s="mouseenter");o.on("mouseover",i.focus);o.on("mouseleave",i.blur);o.on("focus",i.focus);o.on("blur",i.blur);o.on("keyup",function(t){(t.keyCode==13||t.keyCode==32)&&n(this).click()});f.hasClass("accordion-horizontal")&&(n(document).ready(function(){u(f)}),_.each(o,function(n){r(n)}));o.on(s,function(){var r=n(this),i=r.closest(".item"),o=r.parents(".accordion"),u=i.find(".toggle-content"),h=n("body"),f=i.siblings(),s=f.find(".toggle-content");o.hasClass("accordion-horizontal")?t.animateHorizontal.call(this,e):(e.canOpenMultiple||(f.removeClass("active"),s.stop().slideUp({duration:e.speed,easing:e.easing})),i.toggleClass("active"),e.canToggle?u.slideToggle({duration:e.speed,easing:e.easing}):u.slideDown({duration:e.speed,easing:e.easing}))})}var t={},i={focus:function(){n(this).addClass("show")},blur:function(){n(this).removeClass("show")}};return t.animateHorizontal=function(t){var r=n(this).parents(".accordion"),i=n(this).closest(".item"),s=i.find(".toggle-header"),f=i.find(".toggle-content"),h=r.find(".item"),e=i.siblings(),c=e.find(".toggle-content"),u,o;i.toggleClass("active");e.removeClass("active");e.stop(!0).animate({width:0},t.speed,t.easing,function(){c.css({display:"none"})});i.hasClass("active")?(u=r.hasClass("accordion-image")?f.outerWidth():r.width()-((h.length-1)*i.outerWidth()+2),o=r.hasClass("accordion-image")?u:u-s.outerWidth(),i.stop(!0).animate({width:u},t.speed,t.easing,function(){}),f.css({width:o,display:"block"})):i.stop(!0).animate({width:0},t.speed,t.easing,function(){f.css({display:"none"})})},t.initInstance=function(t,i){var u,h,o,r,s;if(t.find(".toggle-header").eq(0).attr("tabindex","0"),t.hasClass("toggle")&&n.extend(i,{canToggle:!0}),t.find(".toggle-content").hide(),u=XA.queryString.getQueryParam(f(t)),u!=null)for(h=u.split(","),o=t.find("li"),r=0;r<o.length;r++)s=o[r],h.indexOf(r+"")>-1&&(n(s).addClass("active"),n(s).find(".toggle-content").show());else i.expandedByDefault&&(t.find("li:first-child").addClass("active"),t.find("li:first-child").find(".toggle-content").show());e(t,i)},t.init=function(){var i=n(".accordion:not(.initialized)");i.each(function(){var i=n(this).data("properties"),r=n(this);t.initInstance(r,i)})},t}(jQuery);XA.register("accordions",XA.component.accordions),function(n){"use strict";n(document).ready(function(){var i=document.querySelector(".js-donateAnHour"),r=location.protocol+"//"+location.hostname,t={requestedDistance:200,latitude:0,longitude:0,locationsOffset:0};n(i).submit(function(i){i.preventDefault();n(".js-donateAnHour .error").removeClass("show");n(".js-resultsError").removeClass("show");n(".js-donateAnHourForm").hide();var f=n("select#searchDistance").val(),u=encodeURI(n("input#searchLocation").val());if(u.length<3){n(".js-donateAnHour .error").addClass("show");return}n.ajax({type:"GET",url:"https://maps.googleapis.com/maps/api/geocode/json?address="+u+"&region=uk&key=AIzaSyDQpzJpKmVlfaRT6jWHVYrYngxxphmOFvw",success:function(i){if(i){if(i.status=="ZERO_RESULTS"){n(".js-donateAnHour .error").addClass("show");n(".js-search-items").html("");n(".js-campaignCount").hide();return}t.latitude=i.results[0].geometry.location.lat;t.longitude=i.results[0].geometry.location.lng;t.requestedDistance=f;t.locationsOffset=0;n(".js-search-items").html("");n(".js-campaignCount").hide();window.fetchResults()}else{n(".js-donateAnHour .error").addClass("show");n(".js-search-items").html("");return}},error:function(){n(".js-donateAnHour .error").addClass("show");n(".js-search-items").html("");return}});window.fetchResults=function(){n(".js-resultsError").removeClass("show");var i=n(".js-resultsList-temp").html();Mustache.tags=["[[","]]"];Mustache.parse(i);n.ajax({type:"POST",url:r+"/guidedogsapi/SalesForceApi/GetCampaignDetails",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify(t),success:function(r){if(r){if(t.locationsOffset=t.locationsOffset+5,r.CampaignCount>t.locationsOffset?n(".js-loadMoreDah").show():n(".js-loadMoreDah").hide(),n(".js-loadMoreDah").removeClass("is-loading"),r.CampaignCount<1){n(".js-resultsError").addClass("show");return}n(".js-campaignCount").show();n(".js-campaignCountCounter").html(r.CampaignCount);var u=Mustache.render(i,r);n(".js-search-items").append(u);window.donateAnHourAccordion();window.donateAnHourSelection()}else n(".js-search-items").html("No response")},error:function(){console.log("oops")}})}});n(".js-loadMoreDah").on("click",function(){window.fetchResults();n(this).addClass("is-loading")});window.donateAnHourAccordion=function(){n(".c-donateAnHourResults__title").click(function(t){t.preventDefault();var r=n(this).attr("aria-expanded"),i=n(this).siblings(".c-donateAnHourResults__contents");r=="true"?(n(this).removeClass("active"),i.hide(),n(this).attr("aria-expanded",!1),i.attr("aria-hidden",!0)):r=="false"&&(n(this).addClass("active"),i.show(),n(this).attr("aria-expanded",!0),i.attr("aria-hidden",!1))})};window.donateAnHourSelection=function(){n("input[type=radio][name=campaignSelection]").change(function(){var f=n(this).val(),t=n(this).data("name"),i=n(this).data("location"),r=n(this).data("date"),u=n(this).data("time");n(".occurence-selected").removeClass("occurence-selected");n(this).closest(".c-donateAnHourResults__occurence").addClass("occurence-selected");n(".js-donateAnHourForm").show();n('input[data-sc-field-name="CampaignId"]').val(f);n('input[data-sc-field-name="CampaignLocation"]').val(t+", "+i);n('input[data-sc-field-name="CampaignDate"]').val(r);n('input[data-sc-field-name="CampaignTimeSlot"]').val(u);n(".js-selectedName").text(t);n(".js-selectedLocation").text(i);n(".js-selectedDate").text(r);n(".js-selectedTime").text(u)})}})}(jQuery),function(){var n;window.MutationObserver==null&&(n=function(){function n(n){this.callBack=n}return n.prototype.observe=function(n){return this.element=n,this.interval=setInterval(function(n){return function(){var t;return t=n.element.innerHTML,t!==n.oldHtml?(n.oldHtml=t,n.callBack.apply(null)):void 0}}(this),200)},n.prototype.disconnect=function(){return window.clearInterval(this.interval)},n}(),window.MutationObserver=n)}.call(this);Number.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};String.prototype.padStart||(String.prototype.padStart=function(n,t){return n=n>>0,t=String(typeof t!="undefined"?t:" "),this.length>n?String(this):(n=n-this.length,n>t.length&&(t+=t.repeat(n/t.length)),t.slice(0,n)+String(this))});siteUrl=location.protocol+"//"+location.hostname;bankAccountValid=!1;window.formFunction=function(){jQuery('input[data-sc-field-name="date"]').val(todaysDate());establishTracking();checkDobFields()};jQuery("body").on("focusin",".js-shortCodeInput",function(){jQuery(this).val("");bankAccountValid=!1});jQuery("body").on("change",".js-mobileNumber",function(){var n=jQuery(this);n.hasClass("input-validation-error")?sessionStorage.setItem("mobile_number",null):sessionStorage.setItem("mobile_number","true")});jQuery("body").on("change",".js-contactVia",function(){var n=jQuery(".js-contactVia");n.is(":checked")?sessionStorage.getItem("mobile_number")===null&&jQuery(".js-phoneNumberSection").show():jQuery(".js-phoneNumberSection").hide()});jQuery("body").on("change","input[value='KeepInTouchByPhone']",function(){var n=jQuery(this);n.is(":checked")?sessionStorage.getItem("mobile_number")===null&&jQuery(".js-phoneNumberSection").show():jQuery(".js-phoneNumberSection").hide()});jQuery("body").on("click","form input[type='submit']:not(.section-edit,.js-accordion,.js-formCompleteMonthlyDonation,.js-noSubmit)",function(){function f(){jQuery("html, body").animate({scrollTop:jQuery(".validation-summary-errors").first().offset().top-40},1e3)}function u(){clearInterval(r)}var n=jQuery(this),t,i,r;n.addClass("is-loading");n.disabled=!0;t=$("main form");t.valid()?(i=jQuery(".postcode-wrapper").not(":hidden"),i.length||setTimeout(function(){jQuery("html, body").animate({scrollTop:$(".form__donation").offset().top},"slow")},200)):(n.removeClass("is-loading"),n.disabled=!1);r=setInterval(function(){jQuery(".validation-summary-errors").length&&(f(),u());jQuery("input.is-loading").length||u()},2e3)});postcodeValStatus=!1;jQuery("body").on("click","input[type='submit']:not(.js-accordion,.js-gotoStep,.js-noSubmit)",function(n){var i=jQuery(this),t=jQuery(".postcode-wrapper").not(":hidden"),r;t.length&&(postcodeValStatus||(n.preventDefault(),r=$("main form"),r.valid()?(t.find(".postcode-lookup-step-1").is(":visible")&&t.find(".postcode-lookup-step-3").is(":hidden")?(t.find("#PostcodeError").show(),t.find("#PostcodeLookupInput").addClass("input-validation-error"),postcodeValStatus=!1,i.removeClass("is-loading"),i.disabled=!1):t.find("#PostcodeAddressResultsSelect").is(":visible")&&t.find("#PostcodeAddressResultsSelect").val()===""&&t.find("#HideEnterManuallyIfNotAvailable").is(":visible")?(t.find("#SelectAddressError").show(),t.find("#PostcodeAddressResultsSelect").addClass("input-validation-error").attr("aria-invalid","true").attr("aria-describedBy","SelectAddressError"),postcodeValStatus=!1,i.removeClass("is-loading"),i.disabled=!1):(postcodeValStatus=!0,t.find("#PostcodeError").hide(),t.find("#SelectAddressError").hide(),i.click()),postcodeValStatus||$("html, body").animate({scrollTop:jQuery(".field-validation-error:visible").first().offset().top-100},1e3)):$("html, body").animate({scrollTop:jQuery(".input-validation-error").first().offset().top-40},1e3)))});jQuery("body").on("change","input[name='amount_pod']",function(){var n=jQuery(this).val();jQuery(".js-amountPod").val(n);jQuery(".js-amountPod").removeClass("input-validation-error");jQuery(".js-amountPod").addClass("valid");jQuery(".js-amountPod").siblings(".field-validation-error").text("");sessionStorage.setItem("donation_amount",n)});jQuery("body").on("change",".js-amountPod",function(){var n=parseFloat(jQuery(this).val()),u=parseFloat(jQuery(this).attr("step")),t=0,i,r;switch(u){case 1:t=0;break;case.1:t=1;break;case.01:t=2;break;default:t=0}i="^\\s*((\\d+(\\.\\d{0,1})?)|((\\d*(\\.\\d{1,1}))))\\s*$";r=new RegExp(i);r.test(n)&&(n=parseFloat(n).toFixed(t),jQuery(this).val(n));sessionStorage.setItem("donation_amount",n)});jQuery("body").on("focusin",".js-amountPod",function(){jQuery("input[name='amount_pod']").prop("checked",!1)});jQuery("body").on("focusout","input[type='text']",function(){var n=jQuery(this),t=n.val();n.val(t.trim())});jQuery("body").on("focusout",".js-inputValidPhone",function(){var t=jQuery(this),n=t.val();n=n.replace(/\s/g,"");n=n.replace(/^(\+44\(0\)|(\+44)|(44))/g,"0");t.val(n)});jQuery("body").on("focusout",".js-inputValidPostcode",function(){var n=jQuery(this);if(jQuery(".js-formCountry").val()==="United Kingdom"){var t=n.val(),i=t.replace(/(^[A-Z]{1,2}[0-9]{1,2})([0-9][A-Z]{2}$)/i,"$1 $2");n.val(i)}});jQuery("body").on("change",".form__select-donation input[type='radio']",function(){var n=jQuery(this),t=n.parent(),i=t.data("href");jQuery(".js-selectDonationType").attr("href",i)});jQuery("body").on("keyup",".js-shortCodeInput",function(){var n=jQuery(this),t=n.val();jQuery(".js-formShortCodeError").hide();t.length===2&&n.parent().next("div").length&&n.parent().next().find(".js-shortCodeInput").focus()});jQuery("body").on("keypress","input",function(n){var t=jQuery(this);n.which!=13||t.is('input[type="submit"]')||n.preventDefault()});jQuery("body").on("click",".js-formCompleteMonthlyDonation",function(n){function s(){jQuery("html, body").animate({scrollTop:jQuery(".validation-summary-errors").first().offset().top-40},1e3)}function u(){clearInterval(f)}function e(){jQuery(".js-formCompleteMonthlyDonation").addClass("is-loading");jQuery(".js-formCompleteMonthlyDonation").attr("disabled",!0)}function i(){jQuery(".js-formCompleteMonthlyDonation").removeClass("is-loading");jQuery(".js-formCompleteMonthlyDonation").attr("disabled",!1)}var o=$("main form"),t,r,f;o.valid()&&!bankAccountValid?(e(),n.preventDefault(),t="",jQuery(".js-shortCodeInput").each(function(){var n=jQuery(this),i=n.val();t+=i}),r=jQuery(".js-formAccountNumber").val(),jQuery('input[data-sc-field-name="Sort Code"]').val(t),jQuery.get(siteUrl+"/guidedogsapi/BankAccountValidation/IsBankAccountValid?accountnumber="+r+"&sortcode="+t,function(n){n?jQuery.get(siteUrl+"/guidedogsapi/bankaccountvalidation/getbranchdetails?sortcode="+t,function(n){jQuery('input[data-sc-field-name="BankName"]').val(n.BankName);jQuery('input[data-sc-field-name="BranchName"]').val(n.BranchName);var t=r.replace(/.(?=.{4})/g,"x");jQuery('input[data-sc-field-name="shortaccountnumber"]').val(t);bankAccountValid=!0;i();jQuery(".js-formCompleteMonthlyDonation").click()}):(i(),jQuery(".js-formShortCodeError").show())})):(bankAccountValid=!1,setTimeout(function(){e()},100));f=setInterval(function(){jQuery(".field-validation-error:visible").length&&(u(),i());jQuery(".validation-summary-errors").length&&(s(),u(),i());jQuery("input.is-loading").length||(u(),i())},2e3)});jQuery("body").on("change",".js-luckyLotteryWeeks",function(){luckyLotteryWeeks()});jQuery("body").on("click",".js-form-info-trigger",function(n){n.preventDefault();var t=jQuery(".js-form-info"),r=jQuery(this);let i=r.attr("aria-expanded");i=="true"?($(this).attr("aria-expanded",!1),t.attr("aria-hidden",!0)):i=="false"&&($(this).attr("aria-expanded",!0),t.attr("aria-hidden",!1));t.toggle()});window.luckyLotteryPersistAmount=function(){var n=parseInt(jQuery(".js-luckyLotteryWeeks").val());luckyLotteryCalculateAmount(n)};document.addEventListener("DOMContentLoaded",function(){jQuery(".form__donation").length&&typeof formTimeout!="undefined"&&(formTimeout===1&&(formTimeout=240),setTimeout(function(){window.location="/"},formTimeout*6e4))});jQuery("body").on("change",".js-lovedOneDropdown",function(){var n=jQuery(".js-lovedOneDropdown").val();jQuery(".js-lovedOneOtherSection").find('[data-sc-field-name="LovedOneEntered"]').val(n)});jQuery("body").on("blur",".js-lovedOneOther",function(){var n=jQuery(".js-lovedOneOther").val();jQuery(".js-lovedOneOtherSection").find('[data-sc-field-name="LovedOneEntered"]').val(n)});window.equalHeightPods=function(n){function u(n,t){function f(){for(var f,r,n=0;n<i;n++)u.push(t[n].offsetHeight);for(f=Math.max.apply(this,u),r=0;r<i;r++)t[r].querySelector('div[class*="__wrapper"]').style.minHeight=f+"px"}for(var i=t.length,u=[],r=0;r<i;r++)t[r].querySelector('div[class*="__wrapper"]').style.minHeight="72px";setTimeout(function(){window.innerWidth<640||f()},100)}var i=document.querySelectorAll(".column-splitter"),t,r;if(i)for(t=0;t<i.length;t++)r=i[t].querySelectorAll(n),r.length>1&&u(n,r)};jQuery("body").on("click",".js-accordion",function(n){var r=jQuery(this);n.preventDefault();var u=r.parent().attr("id"),t=jQuery("#"+u),i=/(?:acc_1-0_panel_)([0-9]+)/.exec(u),f=$("main form");f.valid()?t.find(".postcode-lookup-step-1").is(":visible")&&t.find(".postcode-lookup-step-3").is(":hidden")?(t.find("#PostcodeError").show(),t.find("#PostcodeLookupInput").addClass("input-validation-error").attr("aria-invalid","true").attr("aria-describedBy","PostcodeError")):t.find("#PostcodeAddressResultsSelect").is(":visible")&&t.find("#PostcodeAddressResultsSelect").val()===""&&t.find("#HideEnterManuallyIfNotAvailable").is(":visible")?(t.find("#SelectAddressError").show(),t.find("#PostcodeAddressResultsSelect").addClass("input-validation-error").attr("aria-invalid","true").attr("aria-describedBy","SelectAddressError")):i!=null&&i.length>1&&(r.parent().prev().addClass("is-edited"),jQuery("#acc_1-0_panel_"+(parseInt(i[1])+1)+"_trigger").click(),setTimeout(function(){$("html, body").animate({scrollTop:jQuery("#acc_1-0_panel_"+(parseInt(i[1])+1)).prev().offset().top-20},1e3)},100)):($("html, body").animate({scrollTop:jQuery(".input-validation-error").first().offset().top-40},1e3),jQuery(".input-validation-error").first().focus())});window.accordion=function(n,t){var i={};n.ARIAaccordion=i;i.NS="ARIAaccordion";i.AUTHOR="Scott O'Hara";i.VERSION="3.2.1";i.LICENSE="https://github.com/scottaohara/accessible_accordions/blob/master/LICENSE";var s="accordion",r="section-edit",v=s+"__heading",c=s+"__panel",u=".data-aria-accordion-heading",h=".data-aria-accordion-panel",l=0;i.create=function(){var n,a,w="none",v,o,y,k,e,b=t.querySelectorAll(".data-aria-accordion"),f,p;for(l+=1,e=0;e<b.length;e++){if(n=b[e],n.hasAttribute("id")||(n.id="acc_"+l+"-"+e),n.classList.add(s),t.querySelectorAll("#"+n.id+"> li").length?(a=t.querySelectorAll("#"+n.id+" li > "+h+":not(.is-hidden)"),v=t.querySelectorAll("#"+n.id+" li > "+u+":not(.is-hidden)")):(a=t.querySelectorAll("#"+n.id+" > "+h+":not(.is-hidden)"),v=t.querySelectorAll("#"+n.id+" > "+u+":not(.is-hidden)")),n.hasAttribute("data-default")&&(w=n.getAttribute("data-default")),y=!0,k=n.hasAttribute("data-multi"),n.hasAttribute("data-transition"))for(p=n.querySelectorAll(h),f=0;f<p.length;f++)p[f].classList.add(c+"--transition");for(i.setupPanels(n.id,a,w,y),i.setupHeadingButton(v,y),o=t.querySelectorAll("#"+n.id+"> li").length?t.querySelectorAll("#"+n.id+" li > "+u+" ."+r):t.querySelectorAll("#"+n.id+" > "+u+" ."+r),f=0;f<o.length;f++)o[f].addEventListener("click",i.actions),o[f].addEventListener("keydown",i.keytrolls)}};i.setupPanels=function(n,t,i,r){for(var o,s,u,h,e=0;e<t.length;e++)o=t[e],s=n+"_panel_"+(e+1),u=i,h=r,o.setAttribute("id",s),f(t[0],!0),o.classList.add(c),u!=="none"&&parseInt(u)!==NaN&&(u<=1?f(t[0],!1):u-1>=t.length?f(t[t.length-1],!1):f(t[u-1],!1)),(h&&u==="none"||parseInt(u)===NaN)&&f(t[0],!1)};i.setupHeadingButton=function(n,i){for(var f,s,c,u,l,h=0;h<n.length;h++)f=n[h],s=f.nextElementSibling.id,c=t.getElementById(s).getAttribute("aria-hidden"),u=t.createElement("button"),l="Edit",f.classList.add(v),u.setAttribute("type","button"),u.setAttribute("aria-controls",s),u.setAttribute("id",s+"_trigger"),u.classList.add(r),c==="false"?(e(u,!0),o(u,!0),i&&u.setAttribute("aria-disabled","true")):(e(u,!1),o(u,!1)),f.appendChild(u),u.appendChild(t.createTextNode(l))};i.actions=function(n){var f=this.id.replace(/_panel.*$/g,""),o=t.getElementById(this.getAttribute("aria-controls")),e;e=t.querySelectorAll("#"+f+"> li").length?t.querySelectorAll("#"+f+" li > "+u+" ."+r):t.querySelectorAll("#"+f+" > "+u+" ."+r);n.preventDefault();i.togglePanel(n,f,o,e)};i.togglePanel=function(n,i,r,u){var c,s,h=n.target;if(h.getAttribute("aria-disabled")!=="true"&&(c=h.getAttribute("aria-controls"),o(h,"true"),h.getAttribute("aria-expanded")==="true"?(e(h,"false"),f(r,"true")):(e(h,"true"),f(r,"false"),t.getElementById(i).hasAttribute("data-constant")&&a(h,"true")),t.getElementById(i).hasAttribute("data-constant")||!t.getElementById(i).hasAttribute("data-multi")))for(s=0;s<u.length;s++)h!==u[s]&&(o(u[s],"false"),c=u[s].getAttribute("aria-controls"),a(u[s],"false"),e(u[s],"false"),f(t.getElementById(c),"true"))};i.keytrolls=function(n){if(n.target.classList.contains(r)){var e=n.keyCode||n.which,i=this.id.replace(/_panel.*$/g,""),f=t.querySelectorAll("#"+i+"> li").length?t.querySelectorAll("#"+i+" li > "+u+" ."+r):t.querySelectorAll("#"+i+" > "+u+" ."+r);switch(e){case 35:n.preventDefault();f[f.length-1].focus();break;case 36:n.preventDefault();f[0].focus()}}};i.init=function(){i.create()};var f=function(n,t){n.setAttribute("aria-hidden",t);var i=t==="true";i?n.previousSibling.classList.remove("is-open"):n.previousSibling.classList.add("is-open")},e=function(n,t){n.setAttribute("aria-expanded",t)},a=function(n,t){n.setAttribute("aria-disabled",t)},o=function(n,t){n.setAttribute("data-current",t)};i.init()};progressBarItems=[];window.createFormProgressBar=function(){var n,i,t;if(progressBarItems=[],jQuery(".js-progressBar").length){for(jQuery(".js-progressBar select option").each(function(){progressBarItems.push(jQuery(this).val())}),jQuery(".js-progressBar").prepend('<div class="progress-bar"><div class="progress-bar__fill js-progressBarFill"><\/div><ul class="js-progress-bar-ul"><\/ul><\/div>'),n=0;n<progressBarItems.length;n++)jQuery(".js-progress-bar-ul").append('<li class="progress-bar__item js-progress-bar-item"><div class="progress-bar__item__name">'+progressBarItems[n]+'<\/div><div class="progress-bar__item__indicator"><\/div><div class="progress-bar__item__circle">'+(n+1)+"<\/div><\/li>");i=jQuery('.js-progressBar[class*="step-"]');i[0]?(t=i[0].className.match(/\d+/),jQuery(".js-progress-bar-item").eq(t[0]-1).addClass("is-selected is-active"),progressIndicatorAnimation(t[0]),jQuery(".js-progress-bar-item").each(function(n){var i=jQuery(this);n+1<=t[0]?i.addClass("is-selected"):i.removeClass("is-selected")})):(jQuery(".js-progress-bar-item").first().addClass("is-selected is-active"),progressIndicatorAnimation(1))}jQuery(".js-donationAmountLabel").html(sessionStorage.getItem("donation_amount"))};window.highlightCurrentPage=function(){var u=window.location.href,r=document.querySelector(".c-primaryNav"),t,n,i;if(r)for(t=r.querySelectorAll("a"),n=0;n<t.length;n++)i=t[n],i.href.toLowerCase()===u.toLowerCase()&&i.classList.add("active")};window.onresize=function(){positionElements()};positionElements=function(){var t=window.innerWidth,n;t<800?(n=jQuery(".pswp__zoom-wrap").attr("style"),jQuery(".pswp__top-bar, .pswp__caption").attr("style",n)):jQuery(".pswp__top-bar, .pswp__caption").attr("style","")};initPhotoSwipeFromDOM=function(n){for(var i,e=function(n){for(var f,e=n.childNodes,s=e.length,o=[],t,i,h,r,u=0;u<s;u++)(t=e[u],t.nodeType===1)&&(i=t.children[0],h=i.getAttribute("data-size").split("x"),f=i.getElementsByTagName("IMG")[0],r={src:i.getAttribute("href"),w:parseInt(f.getAttribute("width"),10),h:parseInt(f.getAttribute("height"),10)},t.children.length>1&&(r.title=t.children[1].innerHTML),i.children.length>0&&(r.msrc=i.children[0].getAttribute("src")),r.el=t,o.push(r));return o},u=function u(n,t){return n&&(t(n)?n:u(n.parentNode,t))},o=function(n){var o,t,i;if(n=n||window.event,n.preventDefault?n.preventDefault():n.returnValue=!1,o=n.target||n.srcElement,t=u(o,function(n){return n.tagName&&n.tagName.toUpperCase()==="FIGURE"}),t){var h=t.parentNode,r=t.parentNode.childNodes,c=r.length,s=0,e;for(i=0;i<c;i++)if(r[i].nodeType===1){if(r[i]===t){e=s;break}s++}return e>=0&&f(e,h),!1}},s=function(){var u=window.location.hash.substring(1),n={},i,t,r;if(u.length<5)return n;for(i=u.split("&"),t=0;t<i.length;t++)i[t]&&((r=i[t].split("="),r.length<2)||(n[r[0]]=r[1]));return n.gid&&(n.gid=parseInt(n.gid,10)),n},f=function(n,t,i,r){var h=document.querySelectorAll(".pswp")[0],s,u,f,o;if(f=e(t),u={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(n){var i=f[n].el.getElementsByTagName("img")[0],r=window.pageYOffset||document.documentElement.scrollTop,t=i.getBoundingClientRect();return{x:t.left,y:t.top+r,w:t.width}}},u.fullscreenEl=!1,u.shareEl=!1,u.zoomEl=!1,u.timeToIdle=5e4,u.timeToIdleOutside=5e4,u.captionEl=!0,r)if(u.galleryPIDs){for(o=0;o<f.length;o++)if(f[o].pid==n){u.index=o;break}}else u.index=parseInt(n,10)-1;else u.index=parseInt(n,10);isNaN(u.index)||(i&&(u.showAnimationDuration=0),s=new PhotoSwipe(h,PhotoSwipeUI_Default,f,u),s.init(),setTimeout(function(){positionElements()},500))},r=document.querySelectorAll(n),t=0,h=r.length;t<h;t++)r[t].setAttribute("data-pswp-uid",t+1),r[t].onclick=o;i=s();i.pid&&i.gid&&f(i.pid,r[i.gid-1],!0,!0)};initPhotoSwipeFromDOM(".gallery-inner-pwd");jQuery(".c-header__search").clone(!0).appendTo(".c-mobileNav__search");var mobileNavBtn=document.querySelector(".js-mobNavToggle"),mobileNavClose=document.querySelector(".js-mobNavClose"),mobileNavLogo=document.querySelector(".c-mobileNav__logo a"),subNavBtns=document.getElementsByClassName("js-mobNavSubLevel"),mobileNav,mobileDonate,mobileSearchInputs,mobileSearchButton,isMobileNavOpen;if(mobileNavBtn&&mobileNavClose)for(isMobileNavOpen=!1,mobileNav=document.querySelector(".js-mobileNav"),mobileDonate=document.querySelector(".c-mobileNav__donate a"),mobileSearchInputs=document.querySelectorAll(".c-mobileNav__search *"),mobileSearchButton=document.querySelector(".c-mobileNav__search button"),mobileNavBtn.addEventListener("click",function(n){n.preventDefault();toggleNav()},!1),mobileNavClose.addEventListener("click",function(n){n.preventDefault();toggleNav()},!1),s=0;s<subNavBtns.length;s++)subNavBtns[s].addEventListener("click",function(n){var i,t,r;n.preventDefault();i=this.parentNode.parentNode;t=i.querySelector(".js-mobNavSubNav");t.classList.toggle("is-invisible");t.classList.toggle("is-open");i.classList.toggle("active-link");t.getElementsByTagName("a")[0].focus();r=JSON.parse(this.getAttribute("aria-expanded"));this.setAttribute("aria-expanded",!r)});jQuery(".js-responsiveNav-last").focusin(function(){mobileNavLogo.focus()}),function(){"use strict";jQuery(window).on("load",function(){jQuery("table").each(function(){var n=jQuery(this);n.wrap("<div class='table'><\/div>")})})}(jQuery),function(n,t){typeof exports=="object"&&exports&&typeof exports.nodeName!="string"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(n.Mustache={},t(n.Mustache))}(this,function(n){function f(n){return typeof n=="function"}function l(n){return u(n)?"array":typeof n}function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(n,t){return n!=null&&typeof n=="object"&&t in n}function a(n,t){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(t)}function y(n,t){return v.call(n,t)}function w(n){return!y(p,n)}function k(n){return String(n).replace(/[&<>"'`=\/]/g,function(n){return b[n]})}function it(t,i){function lt(){if(ft&&!p)while(y.length)delete a[y.pop()];else y=[];ft=!1;p=!1}function ht(n){if(typeof n=="string"&&(n=n.split(g,2)),!u(n)||n.length!==2)throw new Error("Invalid tags: "+n);et=new RegExp(o(n[0])+"\\s*");v=new RegExp("\\s*"+o(n[1]));st=new RegExp("\\s*"+o("}"+n[1]))}var et,v,st,f,c,e,s,b,ot,l,k,ct;if(!t)return[];var it=[],a=[],y=[],ft=!1,p=!1;for(ht(i||n.tags),f=new r(t);!f.eos();){if(c=f.pos,s=f.scanUntil(et),s)for(k=0,ct=s.length;k<ct;++k)b=s.charAt(k),w(b)?y.push(a.length):p=!0,a.push(["text",b,c,c+1]),c+=1,b==="\n"&&lt();if(!f.scan(et))break;if(ft=!0,e=f.scan(tt)||"name",f.scan(d),e==="="?(s=f.scanUntil(h),f.scan(h),f.scanUntil(v)):e==="{"?(s=f.scanUntil(st),f.scan(nt),f.scanUntil(v),e="&"):s=f.scanUntil(v),!f.scan(v))throw new Error("Unclosed tag at "+f.pos);if(ot=[e,s,c,f.pos],a.push(ot),e==="#"||e==="^")it.push(ot);else if(e==="/"){if(l=it.pop(),!l)throw new Error('Unopened section "'+s+'" at '+c);if(l[1]!==s)throw new Error('Unclosed section "'+l[1]+'" at '+c);}else e==="name"||e==="{"||e==="&"?p=!0:e==="="&&ht(s)}if(l=it.pop(),l)throw new Error('Unclosed section "'+l[1]+'" at '+f.pos);return ut(rt(a))}function rt(n){for(var u=[],t,i,r=0,f=n.length;r<f;++r)t=n[r],t&&(t[0]==="text"&&i&&i[0]==="text"?(i[1]+=t[1],i[3]=t[3]):(u.push(t),i=t));return u}function ut(n){for(var u=[],r=u,i=[],t,e,f=0,o=n.length;f<o;++f){t=n[f];switch(t[0]){case"#":case"^":r.push(t);i.push(t);r=t[4]=[];break;case"/":e=i.pop();e[5]=t[2];r=i.length>0?i[i.length-1][4]:u;break;default:r.push(t)}}return u}function r(n){this.string=n;this.tail=n;this.pos=0}function i(n,t){this.view=n;this.cache={".":this.view};this.parent=t}function t(){this.cache={}}var c=Object.prototype.toString,u=Array.isArray||function(n){return c.call(n)==="[object Array]"},v=RegExp.prototype.test,p=/\S/,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},d=/\s*/,g=/\s+/,h=/\s*=/,nt=/\s*\}/,tt=/#|\^|\/|>|\{|&|=|!/,e;return r.prototype.eos=function(){return this.tail===""},r.prototype.scan=function(n){var i=this.tail.match(n),t;return!i||i.index!==0?"":(t=i[0],this.tail=this.tail.substring(t.length),this.pos+=t.length,t)},r.prototype.scanUntil=function(n){var i=this.tail.search(n),t;switch(i){case-1:t=this.tail;this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i);this.tail=this.tail.substring(i)}return this.pos+=t.length,t},i.prototype.push=function(n){return new i(n,this)},i.prototype.lookup=function(n){var h=this.cache,i,r,t,u,e,o;if(h.hasOwnProperty(n))i=h[n];else{for(r=this,o=!1;r;){if(n.indexOf(".")>0)for(t=r.view,u=n.split("."),e=0;t!=null&&e<u.length;)e===u.length-1&&(o=s(t,u[e])||a(t,u[e])),t=t[u[e++]];else t=r.view[n],o=s(r.view,n);if(o){i=t;break}r=r.parent}h[n]=i}return f(i)&&(i=i.call(this.view)),i},t.prototype.clearCache=function(){this.cache={}},t.prototype.parse=function(t,i){var u=this.cache,f=t+":"+(i||n.tags).join(":"),r=u[f];return r==null&&(r=u[f]=it(t,i)),r},t.prototype.render=function(n,t,r,u){var f=this.parse(n,u),e=t instanceof i?t:new i(t);return this.renderTokens(f,e,r,n,u)},t.prototype.renderTokens=function(n,t,i,r,u){for(var h="",e,o,f,s=0,c=n.length;s<c;++s)f=undefined,e=n[s],o=e[0],o==="#"?f=this.renderSection(e,t,i,r):o==="^"?f=this.renderInverted(e,t,i,r):o===">"?f=this.renderPartial(e,t,i,u):o==="&"?f=this.unescapedValue(e,t):o==="name"?f=this.escapedValue(e,t):o==="text"&&(f=this.rawValue(e)),f!==undefined&&(h+=f);return h},t.prototype.renderSection=function(n,t,i,r){function l(n){return c.render(n,t,i)}var c=this,o="",e=t.lookup(n[1]),s,h;if(e){if(u(e))for(s=0,h=e.length;s<h;++s)o+=this.renderTokens(n[4],t.push(e[s]),i,r);else if(typeof e=="object"||typeof e=="string"||typeof e=="number")o+=this.renderTokens(n[4],t.push(e),i,r);else if(f(e)){if(typeof r!="string")throw new Error("Cannot use higher-order sections without the original template");e=e.call(t.view,r.slice(n[3],n[5]),l);e!=null&&(o+=e)}else o+=this.renderTokens(n[4],t,i,r);return o}},t.prototype.renderInverted=function(n,t,i,r){var f=t.lookup(n[1]);if(!f||u(f)&&f.length===0)return this.renderTokens(n[4],t,i,r)},t.prototype.renderPartial=function(n,t,i,r){if(i){var u=f(i)?i(n[1]):i[n[1]];if(u!=null)return this.renderTokens(this.parse(u,r),t,i,u)}},t.prototype.unescapedValue=function(n,t){var i=t.lookup(n[1]);if(i!=null)return i},t.prototype.escapedValue=function(t,i){var r=i.lookup(t[1]);if(r!=null)return n.escape(r)},t.prototype.rawValue=function(n){return n[1]},n.name="mustache.js",n.version="3.0.1",n.tags=["{{","}}"],e=new t,n.clearCache=function(){return e.clearCache()},n.parse=function(n,t){return e.parse(n,t)},n.render=function(n,t,i,r){if(typeof n!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+l(n)+'" was given as the first argument for mustache#render(template, view, partials)');return e.render(n,t,i,r)},n.to_html=function(t,i,r,u){var e=n.render(t,i,r);if(f(u))u(e);else return e},n.escape=k,n.Scanner=r,n.Context=i,n.Writer=t,n});
/*! npm.im/object-fit-images */
objectFitImages=function(){"use strict";function u(n){for(var t,r=getComputedStyle(n).fontFamily,i={};null!==(t=l.exec(r));)i[t[1]]=t[2];return i}function f(t,i){var f,r,s;if(!t[n].parsingSrcset){if(f=u(t),f["object-fit"]=f["object-fit"]||"fill",!t[n].s){if("fill"===f["object-fit"])return;if(!t[n].skipTest&&e&&!f["object-position"])return}if(r=t[n].ios7src||t.currentSrc||t.src,i?r=i:t.srcset&&!a&&window.picturefill&&(s=window.picturefill._.ns,t[n].parsingSrcset=!0,t[s]&&t[s].evaled||window.picturefill._.fillImg(t,{reselect:!0}),t[s].curSrc||(t[s].supported=!1,window.picturefill._.fillImg(t,{reselect:!0})),delete t[n].parsingSrcset,r=t[s].curSrc||r),t[n].s)t[n].s=r,i&&(t[n].srcAttr=i);else{t[n]={s:r,srcAttr:i||o.call(t,"src"),srcsetAttr:t.srcset};t.src=n;try{t.srcset&&(t.srcset="",Object.defineProperty(t,"srcset",{value:t[n].srcsetAttr}));h(t)}catch(u){t[n].ios7src=r}}t.style.backgroundImage='url("'+r+'")';t.style.backgroundPosition=f["object-position"]||"center";t.style.backgroundRepeat="no-repeat";/scale-down/.test(f["object-fit"])?(t[n].i||(t[n].i=new Image,t[n].i.src=r),function u(){return t[n].i.naturalWidth?void(t.style.backgroundSize=t[n].i.naturalWidth>t.width||t[n].i.naturalHeight>t.height?"contain":"auto"):void setTimeout(u,100)}()):t.style.backgroundSize=f["object-fit"].replace("none","auto").replace("fill","100% 100%")}}function h(t){var i={get:function(){return t[n].s},set:function(i){return delete t[n].i,f(t,i),i}};Object.defineProperty(t,"src",i);Object.defineProperty(t,"currentSrc",{get:i.get})}function c(){r||(HTMLImageElement.prototype.getAttribute=function(t){return!this[n]||"src"!==t&&"srcset"!==t?o.call(this,t):this[n][t+"Attr"]},HTMLImageElement.prototype.setAttribute=function(t,i){!this[n]||"src"!==t&&"srcset"!==t?v.call(this,t,i):this["src"===t?"src":t+"Attr"]=String(i)})}function t(i,u){var o=!s&&!i,e;if(u=u||{},i=i||"img",r&&!u.skipTest)return!1;for("string"==typeof i?i=document.querySelectorAll("img"):i.length||(i=[i]),e=0;e<i.length;e++)i[e][n]=i[e][n]||u,f(i[e]);o&&(document.body.addEventListener("load",function(n){"IMG"===n.target.tagName&&t(n.target,{skipTest:u.skipTest})},!0),s=!0,i="img");u.watchMQ&&window.addEventListener("resize",t.bind(null,i,{skipTest:u.skipTest}))}var n="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",l=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,i=new Image,e="object-fit"in i.style,r="object-position"in i.style,a="string"==typeof i.currentSrc,o=i.getAttribute,v=i.setAttribute,s=!1;return t.supportsObjectFit=e,t.supportsObjectPosition=r,c(),t}();onThisPageList=document.querySelector(".js-onThisPageLinks");onThisPageList&&(allH2s=document.querySelectorAll("h2"),allH2s.length>0?setTimeout(function(){for(var r,n=0;n<allH2s.length;n++){var t=allH2s[n],i=t.innerText||t.textContent,u=stringToSlug(i);t.setAttribute("id",u);r=document.createElement("li");r.innerHTML='<a href="#'+u+'" title="'+i+'">'+i+"<\/a>";onThisPageList.appendChild(r)}onThisPageList.classList.remove("loading")},1500):setTimeout(function(){var n=document.createElement("li");n.innerHTML="No links found";onThisPageList.appendChild(n);onThisPageList.classList.remove("loading")},1500));podcast=document.querySelector(".c-podcast");podcast&&(mp3=document.querySelector(".c-podcast__mp3"),img=podcast.querySelector(".c-podcast__image"),img.addEventListener("click",function(){mp3.paused==!1?mp3.pause():mp3.play()},!1),mp3.addEventListener("playing",function(){img.classList.add("mp3-playing")}),mp3.addEventListener("pause",function(){img.classList.remove("mp3-playing")}));
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(n){"use strict";var f;if("Element"in n){var e="classList",t="prototype",o=n.Element[t],u=Object,a=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},v=Array[t].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1},s=function(n,t){this.name=n;this.code=DOMException[n];this.message=t},r=function(n,t){if(t==="")throw new s("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","The token must not contain space characters.");return v.call(n,t)},h=function(n){for(var i=a.call(n.getAttribute("class")||""),r=i?i.split(/\s+/):[],t=0,u=r.length;t<u;t++)this.push(r[t]);this._updateClassName=function(){n.setAttribute("class",this.toString())}},i=h[t]=[],c=function(){return new h(this)};if(s[t]=Error[t],i.item=function(n){return this[n]||null},i.contains=function(n){return~r(this,n+"")},i.add=function(){var t=arguments,i=0,f=t.length,n,u=!1;do n=t[i]+"",~r(this,n)||(this.push(n),u=!0);while(++i<f);u&&this._updateClassName()},i.remove=function(){var i=arguments,u=0,e=i.length,t,f=!1,n;do for(t=i[u]+"",n=r(this,t);~n;)this.splice(n,1),f=!0,n=r(this,t);while(++u<e);f&&this._updateClassName()},i.toggle=function(n,t){var i=this.contains(n),r=i?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](n),t===!0||t===!1?t:!i},i.replace=function(n,t){var i=r(n+"");~i&&(this.splice(i,1,t),this._updateClassName())},i.toString=function(){return this.join(" ")},u.defineProperty){f={get:c,enumerable:!0,configurable:!0};try{u.defineProperty(o,e,f)}catch(l){(l.number===undefined||l.number===-2146823252)&&(f.enumerable=!1,u.defineProperty(o,e,f))}}else u[t].__defineGetter__&&o.__defineGetter__(e,c)}}(self),function(){"use strict";var n=document.createElement("_"),t,i;n.classList.add("c1","c2");n.classList.contains("c2")||(t=function(n){var t=DOMTokenList.prototype[n];DOMTokenList.prototype[n]=function(n){for(var r=arguments.length,i=0;i<r;i++)n=arguments[i],t.call(this,n)}},t("add"),t("remove"));n.classList.toggle("c3",!1);n.classList.contains("c3")&&(i=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(n,t){return 1 in arguments&&!this.contains(n)==!t?t:i.call(this,n)});"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(n,t){var i=this.toString().split(" "),r=i.indexOf(n+"");~r&&(i=i.slice(r),this.remove.apply(this,i),this.add(t),this.add.apply(this,i.slice(1)))});n=null}());window.postcodeLookup=function(){function s(t,r){function h(){u.step1.style.display="block";u.step2.style.display="none";for(var t=0;t<u.step3s.length;t++)u.step3s[t].style.display="none";u.postcodeErrorMessage.style.display="none";u.postcodeLookupInput.classList.remove("input-validation-error");u.hideEnterManuallyIfNotAvailable.style.display="none";typeof r=="undefined"&&(r=n[0].querySelector(".postcode-lookup").getAttribute("data-showmanualinputbutton"));r.toLowerCase()==="true"&&(u.hideEnterManuallyIfNotAvailable.style.display="block")}function y(){var n=document.getElementsByClassName("auto-fill-address-line-1"),t;n[0]!==null&&n[0].value!==""?(u.step3s[0].style.display="block",u.step1.style.display="none",u.step2.style.display="none",t=$(".js-volunteeringSavedPostcode"),t.length||(u.postcodeChangeAddress.style.display="block")):h()}function p(){u.step1.style.display="none";u.step2.style.display="block";u.enteredPostcode.innerText=u.postcodeLookupInput.value}function c(){for(var n=0;n<u.step3s.length;n++)u.step3s[n].style.display="block";u.hideEnterManuallyIfNotAvailable.style.display="none"}function w(n){for(var t=n.options.length-1;t>=0;t--)n.remove(t)}function l(n,t,i){var r=document.createElement("OPTION");r.text=t;r.value=i;n.options.add(r)}function a(n){var t=u.postcodeAddressResultsSelect,i,r;if(t)for(w(t),l(t,"Please select an address",""),i=0;i<n.length;++i)r=n[i],l(t,r.DisplayAddress,r.Id)}function v(n){n&&n.preventDefault();var t=u.postcodeLookupInput.value,r=/^([A-Za-z][A-Ha-hJ-Yj-y]?[0-9][A-Za-z0-9]? ?[0-9][A-Za-z]{2}|[Gg][Ii][Rr] ?0[Aa]{2})$/i.test(t);if(u.hideEnterManuallyIfNotAvailable.style.display="block",!r){u.postcodeErrorMessage.style.display="block";u.postcodeLookupInput.classList.add("input-validation-error");u.postcodeLookupInput.setAttribute("aria-invalid","true");u.postcodeLookupInput.setAttribute("aria-describedBy","PostcodeError");u.postcodeLookupInput.focus();return}i.getAddressesFromPostcode(t,function(n){a(n);p();u.postcodeAddressResultsSelect&&u.postcodeAddressResultsSelect.focus()})}function b(){var t=u.postcodeAddressResultsSelect.selectedIndex,n=u.postcodeAddressResultsSelect.options[t].value;n&&(i.getAddressesDetails(n,function(n){document.getElementById("SelectAddressError").style.display="none";u.addressLine1.length&&(u.addressLine1[0].value=n.Line1);u.addressLine2.length&&(u.addressLine2[0].value=n.Line2);u.addressLine3.length&&(u.addressLine3[0].value=n.Line3);u.townCity.length&&(u.townCity[0].value=n.TownCity);u.postcode.length&&(u.postcode[0].value=n.Postcode)}),u.step3s.length&&c())}function k(){return u.addressLine1[0]&&u.addressLine1[0].value?!0:u.addressLine2[0]&&u.addressLine2[0].value?!0:u.addressLine3[0]&&u.addressLine3[0].value?!0:u.townCity[0]&&u.townCity[0].value?!0:u.postcode[0]&&u.postcode[0].value?!0:!1}var e={addressLine1:"auto-fill-address-line-1",addressLine2:"auto-fill-address-line-2",addressLine3:"auto-fill-address-line-3",townCity:"auto-fill-address-town-city",county:"auto-fill-address-county",postcode:"auto-fill-address-postcode"},s={step1:"postcode-lookup-step-1",step2:"postcode-lookup-step-2",step3:"postcode-lookup-step-3"},f={postcodeLookupInput:"PostcodeLookupInput",postcodeLookupButton:"PostcodeLookupButton",postcodeAddressResults:"PostcodeAddressResults",postcodeAddressResultsSelect:"PostcodeAddressResultsSelect",enteredPostcode:"EnteredPostcode",backToStep1:"BackToStep1",enterManually:"EnterManually",hideEnterManuallyIfNotAvailable:"HideEnterManuallyIfNotAvailable",postcodeErrorMessage:"PostcodeError"},u={addressLine1:t.getElementsByClassName(e.addressLine1),addressLine2:t.getElementsByClassName(e.addressLine2),addressLine3:t.getElementsByClassName(e.addressLine3),townCity:t.getElementsByClassName(e.townCity),county:t.getElementsByClassName(e.county),postcode:t.getElementsByClassName(e.postcode),postcodeLookupButton:t.querySelector("#"+f.postcodeLookupButton),postcodeLookupInput:t.querySelector("#"+f.postcodeLookupInput),postcodeAddressResults:t.querySelector("#"+f.postcodeAddressResults),postcodeAddressResultsSelect:t.querySelector("#"+f.postcodeAddressResultsSelect),step1:t.getElementsByClassName(s.step1)[0],step2:t.getElementsByClassName(s.step2)[0],step3s:t.getElementsByClassName(s.step3),enteredPostcode:t.querySelector("#"+f.enteredPostcode),backToStep1:t.querySelector("#"+f.backToStep1),enterManually:t.querySelector("#"+f.enterManually),hideEnterManuallyIfNotAvailable:t.querySelector("#"+f.hideEnterManuallyIfNotAvailable),postcodeErrorMessage:t.querySelector("#"+f.postcodeErrorMessage),postcodeChangeAddress:t.querySelector("#PostcodeChangeAddress")},o;if(y(),u.postcodeLookupButton.addEventListener("click",v,!1),u.postcodeLookupButton.addEventListener("keyup",function(n){n.preventDefault();n.keyCode===13&&v(n)}),u.postcodeLookupInput.addEventListener("focusout",function(n){var t,i,r;if(n.preventDefault(),t=this.value,i=/^([A-Za-z][A-Ha-hJ-Yj-y]?[0-9][A-Za-z0-9]? ?[0-9][A-Za-z]{2}|[Gg][Ii][Rr] ?0[Aa]{2})$/i,t.length!==0)if(r=i.test(t),r)u.postcodeErrorMessage.style.display="none";else{u.postcodeErrorMessage.style.display="block";u.postcodeLookupInput.classList.add("input-validation-error");u.postcodeLookupInput.setAttribute("aria-invalid","true");u.postcodeLookupInput.setAttribute("aria-describedBy","PostcodeError");return}}),setTimeout(function(){var n=$(".js-volunteeringSavedPostcode");n.length&&(n=$('input[data-sc-field-name="Postcode"]').val(),i.getAddressesFromPostcode(n,function(t){a(t);u.step1.style.display="none";u.step2.style.display="block";u.enteredPostcode.innerText=n;u.postcode[0].readOnly=!0;$(".auto-fill-address-postcode").val(n);u.backToStep1.style.display="none"}))},500),u.backToStep1.addEventListener("click",function(n){n&&n.preventDefault();h();jQuery("#PostcodeLookupInput").focus()},!1),u.postcodeChangeAddress.addEventListener("click",function(){u.postcodeChangeAddress.style.display="none";h()},!1),u.postcodeAddressResultsSelect.addEventListener("change",b,!1),u.step3s.length){if(!k())for(o=0;o<u.step3s.length;o++)u.step3s[o].style.display="none";u.hideEnterManuallyIfNotAvailable.addEventListener("click",function(n){if(n&&n.preventDefault(),c(),u.addressLine1.length&&(u.addressLine1[0].value=""),u.addressLine2.length&&(u.addressLine2[0].value=""),u.addressLine3.length&&(u.addressLine3[0].value=""),u.townCity.length&&(u.townCity[0].value=""),u.county.length&&(u.county[0].value=""),u.postcode.length){var t=$('input[data-sc-field-name="Postcode"]');t.length===0&&(u.postcode[0].value="")}},!1)}else u.hideEnterManuallyIfNotAvailable.style.display="none"}var n=document.querySelectorAll(".postcode-wrapper"),i,t,r,u,f,e,o;if(n){for(t=0;t<n.length;t++)r=n[t],u=n[t].querySelector(".postcode-lookup").getAttribute("data-showmanualinputbutton"),n[t].querySelector(".postcode-lookup").getAttribute("data-isnormal")==="True"&&(f=r.querySelector(".postcode-lookup-step-3"),f&&s(r,u));n[0]&&(e=n[0].querySelector(".postcode-lookup").getAttribute("data-postcodesearchurl"),o=n[0].querySelector(".postcode-lookup").getAttribute("data-getaddressurl"));i={postcodeSearchUrl:e,getAddressUrl:o,getAddressesFromPostcode:function(n,t){var i=new XMLHttpRequest;i.open("POST",this.postcodeSearchUrl);i.setRequestHeader("Content-Type","application/json");i.onload=function(){if(i.status===200){var n=JSON.parse(i.responseText);t(n)}else alert("There has been an error.")};i.send(JSON.stringify({postcode:n}))},getAddressesDetails:function(n,t){var i=new XMLHttpRequest;i.open("POST",this.getAddressUrl);i.setRequestHeader("Content-Type","application/json");i.onload=function(){if(i.status===200){var n=JSON.parse(i.responseText);t(n)}else alert("There has been an error.")};i.send(JSON.stringify({id:n}))}}}};window.postcodeLookup();window.checkRowBgs=function(){function u(n,t){var f=n,i,r,u;for(f.classList.add("columns","row-bg",t),i=f,r=document.createElement("div"),r.className="component-content",u=document.createElement("div"),u.className="splitter-wrapper";i.firstChild;)u.appendChild(i.firstChild);r.appendChild(u);i.appendChild(r)}var t=document.querySelectorAll(".column-splitter"),n,i,r;if(t)for(n=0;n<t.length;n++)i=t[n].querySelectorAll(".row-bg"),i.length>0&&(r="row-bg--blue",i[0].classList.contains("row-bg--grey")&&(r="row-bg--grey"),i[0].classList.contains("row-bg--darkBlue")&&(r="row-bg--darkBlue"),u(t[n],r))};jQuery(window).on("load",function(){var i=jQuery("main .search-box .twitter-typeahead"),t=jQuery("main .search-box .twitter-typeahead .search-box-input.tt-input"),n;i.append('<button class="search-box-delete js-searchBoxDelete" aria-label="Clear"><\/button>');n=jQuery(".js-searchBoxDelete");t.on("change keyup",function(){var t=jQuery(this);t.val().length>=1?n.fadeIn():n.fadeOut()});jQuery("body").on("click",".js-searchBoxDelete",function(){t.val("");n.fadeOut();jQuery("main .search-box-button").click()})});XA.component.search.results.count=function(n){var t={},i=!1,r=Backbone.View.extend({initialize:function(){var i=this.$el.data(),t=this.$el.find(".results-count"),n=this;if(this.resultsCountText=t.html(),window.location.href.startsWith("file://")){t.html(n.resultsCountText.replace("{count}",1).replace("{query}",getQuery()));n.$el.find(".results-count").show();return}XA.component.search.vent.on("results-loaded",function(i){t.html(n.resultsCountText.replace("{count}",'<span style="text-decoration: underline">'+i.dataCount+"<\/span>").replace("{query}",getQuery()));n.$el.find(".results-count").show()})}});return t.init=function(){if(!n("body").hasClass("on-page-editor")&&!i){var t=n(".search-results-count");_.each(t,function(t){var i=new r({el:n(t)})});i=!0}},t}(jQuery,document);XA.register("searchResultsCount",XA.component.search.results.count);var selectedPuppies=[],selectedPuppiesNames=[],siteUrl=location.protocol+"//"+location.hostname;jQuery("body").on("change",".js-sponsorAPuppyPuppies",function(){var t=jQuery(this),i=t.val(),r=t.attr("data-name"),n;for(selectedPuppies=[],selectedPuppiesNames=[],jQuery(".js-sponsorAPuppyPuppies").each(function(){var t=$(this).val(),i=$(this).attr("data-name"),n;this.checked?(selectedPuppies.push(t),selectedPuppiesNames.push(i)):(n=selectedPuppies.indexOf(t),n!==-1&&selectedPuppies.splice(n,1),n=selectedPuppiesNames.indexOf(i),n!==-1&&selectedPuppiesNames.splice(n,1))}),jQuery('input[data-sc-field-name="puppyname1"], input[data-sc-field-name="puppyname2"], input[data-sc-field-name="puppyname3"]').val(""),n=0;n<selectedPuppiesNames.length;n++)jQuery('input[data-sc-field-name="puppyname'+[n+1]+'"]').val(selectedPuppiesNames[n]);jQuery('.js-sponsorAPuppyPuppiesValidation input[data-sc-field-name="SelectAPuppyValidation"]').val(selectedPuppiesNames);sessionStorage.setItem("selected_puppies",selectedPuppies);sessionStorage.setItem("selected_puppies_name",selectedPuppiesNames);jQuery('input[data-sc-field-name="PuppyNames"]').val(arrayToStringForEmail(selectedPuppiesNames));jQuery('input[data-sc-field-name="numberofpuppies"]').val(selectedPuppiesNames.length);sponsorAPuppyMonthlyDonation()});jQuery("body").on("change",".js-sponsorAPuppySponsorship input[type='radio']",function(){var n=jQuery(this),t=n.val().toLowerCase();sessionStorage.setItem("selected_sponsorship",t);fillInWhyThisAmount()});jQuery("body").on("click",".js-sponsorAPuppyToPayment",function(){var n=[],r=jQuery('input[data-sc-field-name="RecipientFirstName1"]').val(),t,i,u;r&&r.length&&n.push(r);t=jQuery('input[data-sc-field-name="RecipientFirstName2"]').val();t&&t.length&&n.push(t);i=jQuery('input[data-sc-field-name="RecipientFirstName3"]').val();i&&i.length&&n.push(i);jQuery('input[data-sc-field-name="RecipientNames"]').val(arrayToStringForEmail(n));u=sessionStorage.getItem("selected_puppies_name").split(",");jQuery('input[data-sc-field-name="SponsoringFor"]').val(sessionStorage.getItem("selected_sponsoring")+""+u.length);generatePuppyPhotoZips()});jQuery("body").on("change",".js-sponsorAPuppySponsoring input[type='radio']",function(){var t=jQuery(this),n=t.val().toLowerCase();sessionStorage.setItem("selected_sponsoring",n);n==="myself"?jQuery('input[data-sc-field-name="SponsoringPuppyFor"]').val("for yourself"):n==="gift"&&jQuery('input[data-sc-field-name="SponsoringPuppyFor"]').val("as a gift")});jQuery("body").on("change","input[data-sc-field-name='FirstName']",function(){var n=jQuery(this),t=n.val().toLowerCase();sessionStorage.setItem("first_name",t)});jQuery("body").on("change","input[data-sc-field-name='LastName']",function(){var n=jQuery(this),t=n.val().toLowerCase();sessionStorage.setItem("last_name",t)});jQuery("body").on("click",".js-SAPAddress",function(){generateCertificateUrl()});jQuery("body").on("click",".js-SAPReferences",function(){generateCertificateUrl()});window.preSelectPuppy=function(){var i="",n,r,f,u,t;if(jQuery(".js-sponsorAPuppySponsoring").length)for(n=urlParam("puppy_selected"),r=!1,window.location.hash&&(f=window.location.hash.substring(1),f=="reset"&&(r=!0,history.pushState("",document.title,window.location.pathname+window.location.search))),sessionStorage.getItem("selected_puppies")===null||r?n&&n.length&&(i=n):i=sessionStorage.getItem("selected_puppies"),sessionStorage.setItem("selected_puppies",""),jQuery(".js-sponsorAPuppySponsorship input[type='radio']:checked").length&&jQuery(".js-sponsorAPuppySponsorship input[type='radio']:checked").change(),u=i.split(","),t=0;t<u.length;t++)jQuery(".js-sponsorAPuppyPuppies").each(function(){var n=jQuery(this);n.val()===u[t]&&n.prop("checked",!0).change()})};window.sponsorAPuppyNames=function(){var i="",n,t;if(sessionStorage.getItem("selected_puppies_name")!==null){for(n=sessionStorage.getItem("selected_puppies_name"),n=n.split(","),t=0;t<n.length;t++)i=t+1==n.length?i+'<span class="text-color-primary">'+n[t]+"<\/span>":i+'<span class="text-color-primary">'+n[t]+"<\/span> and ";jQuery(".js-sponsorAPuppySelectedNames").html(i);sessionStorage.getItem("selected_sponsorship")!==null&&jQuery(".js-sponsorAPuppyPaymentType").html('<span class="text-color-primary">'+sessionStorage.getItem("selected_sponsorship")+"<\/span>")}};"use strict";var svgAudio=document.querySelector(".svg-mp3"),svgLogo=document.querySelectorAll(".svg-logo"),inEditor=document.querySelector(".on-page-editor");window.onload=function(){svgLogo&&checkSonic()},function(){"use strict";function i(n,t){return Array.prototype.slice.call((t||document).querySelectorAll(n))}function r(n){if(n.closest)return n.closest("[data-a11y-toggle]");while(n){if(n.nodeType===1&&n.hasAttribute("data-a11y-toggle"))return n;n=n.parentNode}return null}function u(i){var r=i&&t[i.getAttribute("aria-controls")],f,u;if(!r)return!1;f=n["#"+r.id];u=r.getAttribute("aria-hidden")==="false";r.setAttribute("aria-hidden",u);f.forEach(function(n){n.setAttribute("aria-expanded",!u)});u||(jQuery("#"+r.id).attr("tabindex",-1).focus(),jQuery("html, body").animate({scrollTop:jQuery("#"+r.id).offset().top},1e3))}var e=0,n={},t={},f=function(r){function o(n){var t=document.getElementById(n.getAttribute("data-a11y-toggle"));t.setAttribute("aria-hidden",!0);n.setAttribute("aria-expanded",!1)}function s(n){f.filter(function(t){return t!==n.target}).forEach(o)}var u,f;n=i("[data-a11y-toggle]",r).reduce(function(n,t){var i="#"+t.getAttribute("data-a11y-toggle");return n[i]=n[i]||[],n[i].push(t),n},n);u=Object.keys(n);u.length&&i(u).forEach(function(i){var f=n["#"+i.id],r=i.hasAttribute("data-a11y-toggle-open"),u=[];f.forEach(function(n){n.id||n.setAttribute("id","a11y-toggle-"+e++);n.setAttribute("aria-controls",i.id);n.setAttribute("aria-expanded",r);u.push(n.id)});i.setAttribute("aria-hidden",!r);i.hasAttribute("aria-labelledby")||i.setAttribute("aria-labelledby",u.join(" "));t[i.id]=i});f=Array.prototype.slice.call(document.querySelectorAll("[data-a11y-toggle]"));f.forEach(function(n){n.addEventListener("click",s)})};document.addEventListener("DOMContentLoaded",function(){f()});document.addEventListener("click",function(n){if(n.target.hasAttribute("data-a11y-toggle")){n.preventDefault();var t=r(n.target);u(t)}});document.addEventListener("keyup",function(n){if(n.which===13||n.which===32){n.preventDefault();var t=r(n.target);t&&t.getAttribute("role")==="button"&&u(t)}});window&&(window.a11yToggle=f)}();!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.bowser=t():n.bowser=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((1&i&&(n=t(n)),8&i)||4&i&&"object"==typeof n&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&i&&"string"!=typeof n)for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=90)}({17:function(n,t,i){"use strict";t.__esModule=!0;t.default=void 0;var r=i(18),u=function(){function n(){}return n.getFirstMatch=function(n,t){var i=t.match(n);return i&&i.length>0&&i[1]||""},n.getSecondMatch=function(n,t){var i=t.match(n);return i&&i.length>1&&i[2]||""},n.matchAndReturnConst=function(n,t,i){if(n.test(t))return i},n.getWindowsVersionName=function(n){switch(n){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},n.getMacOSVersionName=function(n){var t=n.split(".").splice(0,2).map(function(n){return parseInt(n,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},n.getAndroidVersionName=function(n){var t=n.split(".").splice(0,2).map(function(n){return parseInt(n,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},n.getVersionPrecision=function(n){return n.split(".").length},n.compareVersions=function(t,i,r){void 0===r&&(r=!1);var o=n.getVersionPrecision(t),s=n.getVersionPrecision(i),u=Math.max(o,s),e=0,f=n.map([t,i],function(t){var i=u-n.getVersionPrecision(t),r=t+new Array(i+1).join(".0");return n.map(r.split("."),function(n){return new Array(20-n.length).join("0")+n}).reverse()});for(r&&(e=u-Math.min(o,s)),u-=1;u>=e;){if(f[0][u]>f[1][u])return 1;if(f[0][u]===f[1][u]){if(u===e)return 0;u-=1}else if(f[0][u]<f[1][u])return-1}},n.map=function(n,t){var i,r=[];if(Array.prototype.map)return Array.prototype.map.call(n,t);for(i=0;i<n.length;i+=1)r.push(t(n[i]));return r},n.find=function(n,t){var i,u,r;if(Array.prototype.find)return Array.prototype.find.call(n,t);for(i=0,u=n.length;i<u;i+=1)if(r=n[i],t(r,i))return r},n.assign=function(n){for(var e,t,f,o=n,u=arguments.length,i=new Array(u>1?u-1:0),r=1;r<u;r++)i[r-1]=arguments[r];if(Object.assign)return Object.assign.apply(Object,[n].concat(i));for(e=function(){var n=i[t];"object"==typeof n&&null!==n&&Object.keys(n).forEach(function(t){o[t]=n[t]})},t=0,f=i.length;t<f;t+=1)e();return n},n.getBrowserAlias=function(n){return r.BROWSER_ALIASES_MAP[n]},n.getBrowserTypeByAlias=function(n){return r.BROWSER_MAP[n]||""},n}();t.default=u;n.exports=t.default},18:function(n,t){"use strict";t.__esModule=!0;t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(n,t,i){"use strict";function e(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}var u,f,r,o;t.__esModule=!0;t.default=void 0;f=(u=i(91))&&u.__esModule?u:{"default":u};r=i(18);o=function(){function n(){}var t,u,i;return n.getParser=function(n,t){if(void 0===t&&(t=!1),"string"!=typeof n)throw new Error("UserAgent should be a string");return new f.default(n,t)},n.parse=function(n){return new f.default(n).getResult()},t=n,i=[{key:"BROWSER_MAP",get:function(){return r.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return r.ENGINE_MAP}},{key:"OS_MAP",get:function(){return r.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return r.PLATFORMS_MAP}}],(u=null)&&e(t.prototype,u),i&&e(t,i),n}();t.default=o;n.exports=t.default},91:function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;t.__esModule=!0;t.default=void 0;var e=u(i(92)),o=u(i(93)),s=u(i(94)),h=u(i(95)),r=u(i(17));f=function(){function t(n,t){if(void 0===t&&(t=!1),null==n||""===n)throw new Error("UserAgent parameter can't be empty");this._ua=n;this.parsedResult={};!0!==t&&this.parse()}var n=t.prototype;return n.getUA=function(){return this._ua},n.test=function(n){return n.test(this._ua)},n.parseBrowser=function(){var t=this,n;return this.parsedResult.browser={},n=r.default.find(e.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid");}),n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser},n.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},n.getBrowserName=function(n){return n?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},n.getBrowserVersion=function(){return this.getBrowser().version},n.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},n.parseOS=function(){var t=this,n;return this.parsedResult.os={},n=r.default.find(o.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid");}),n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os},n.getOSName=function(n){var t=this.getOS().name;return n?String(t).toLowerCase()||"":t||""},n.getOSVersion=function(){return this.getOS().version},n.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},n.getPlatformType=function(n){void 0===n&&(n=!1);var t=this.getPlatform().type;return n?String(t).toLowerCase()||"":t||""},n.parsePlatform=function(){var t=this,n;return this.parsedResult.platform={},n=r.default.find(s.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid");}),n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform},n.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},n.getEngineName=function(n){return n?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},n.parseEngine=function(){var t=this,n;return this.parsedResult.engine={},n=r.default.find(h.default,function(n){if("function"==typeof n.test)return n.test(t);if(n.test instanceof Array)return n.test.some(function(n){return t.test(n)});throw new Error("Browser's test function is not valid");}),n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine},n.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},n.getResult=function(){return r.default.assign({},this.parsedResult)},n.satisfies=function(n){var i=this,t={},l=0,u={},a=0,f,e,o,s,h,v,c;if(Object.keys(n).forEach(function(i){var r=n[i];"string"==typeof r?(u[i]=r,a+=1):"object"==typeof r&&(t[i]=r,l+=1)}),l>0){if(f=Object.keys(t),e=r.default.find(f,function(n){return i.isOS(n)}),e&&(o=this.satisfies(t[e]),void 0!==o))return o;if(s=r.default.find(f,function(n){return i.isPlatform(n)}),s&&(h=this.satisfies(t[s]),void 0!==h))return h}if(a>0&&(v=Object.keys(u),c=r.default.find(v,function(n){return i.isBrowser(n,!0)}),void 0!==c))return this.compareVersion(u[c])},n.isBrowser=function(n,t){void 0===t&&(t=!1);var f=this.getBrowserName().toLowerCase(),i=n.toLowerCase(),u=r.default.getBrowserTypeByAlias(i);return t&&u&&(i=u.toLowerCase()),i===f},n.compareVersion=function(n){var i=[0],t=n,u=!1,f=this.getBrowserVersion();if("string"==typeof f)return">"===n[0]||"<"===n[0]?(t=n.substr(1),"="===n[1]?(u=!0,t=n.substr(2)):i=[],">"===n[0]?i.push(1):i.push(-1)):"="===n[0]?t=n.substr(1):"~"===n[0]&&(u=!0,t=n.substr(1)),i.indexOf(r.default.compareVersions(f,t,u))>-1},n.isOS=function(n){return this.getOSName(!0)===String(n).toLowerCase()},n.isPlatform=function(n){return this.getPlatformType(!0)===String(n).toLowerCase()},n.isEngine=function(n){return this.getEngineName(!0)===String(n).toLowerCase()},n.is=function(n){return this.isBrowser(n)||this.isOS(n)||this.isPlatform(n)},n.some=function(n){var t=this;return void 0===n&&(n=[]),n.some(function(n){return t.is(n)})},t}();t.default=f;n.exports=t.default},92:function(n,t,i){"use strict";t.__esModule=!0;t.default=void 0;var f,r=(f=i(17))&&f.__esModule?f:{"default":f},u=/version\/(\d+(\.?_?\d+)+)/i,e=[{test:[/googlebot/i],describe:function(n){var t={name:"Googlebot"},i=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/opera/i],describe:function(n){var t={name:"Opera"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/opr\/|opios/i],describe:function(n){var t={name:"Opera"},i=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/SamsungBrowser/i],describe:function(n){var t={name:"Samsung Internet for Android"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/Whale/i],describe:function(n){var t={name:"NAVER Whale Browser"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/MZBrowser/i],describe:function(n){var t={name:"MZ Browser"},i=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/focus/i],describe:function(n){var t={name:"Focus"},i=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/swing/i],describe:function(n){var t={name:"Swing"},i=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/coast/i],describe:function(n){var t={name:"Opera Coast"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/yabrowser/i],describe:function(n){var t={name:"Yandex Browser"},i=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/ucbrowser/i],describe:function(n){var t={name:"UC Browser"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/Maxthon|mxios/i],describe:function(n){var t={name:"Maxthon"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/epiphany/i],describe:function(n){var t={name:"Epiphany"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/puffin/i],describe:function(n){var t={name:"Puffin"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/sleipnir/i],describe:function(n){var t={name:"Sleipnir"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/k-meleon/i],describe:function(n){var t={name:"K-Meleon"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/micromessenger/i],describe:function(n){var t={name:"WeChat"},i=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/qqbrowser/i],describe:function(n){var t={name:/qqbrowserlite/i.test(n)?"QQ Browser Lite":"QQ Browser"},i=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/msie|trident/i],describe:function(n){var t={name:"Internet Explorer"},i=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/\sedg\//i],describe:function(n){var t={name:"Microsoft Edge"},i=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/edg([ea]|ios)/i],describe:function(n){var t={name:"Microsoft Edge"},i=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/vivaldi/i],describe:function(n){var t={name:"Vivaldi"},i=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/seamonkey/i],describe:function(n){var t={name:"SeaMonkey"},i=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/sailfish/i],describe:function(n){var t={name:"Sailfish"},i=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,n);return i&&(t.version=i),t}},{test:[/silk/i],describe:function(n){var t={name:"Amazon Silk"},i=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/phantom/i],describe:function(n){var t={name:"PhantomJS"},i=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/slimerjs/i],describe:function(n){var t={name:"SlimerJS"},i=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(n){var t={name:"BlackBerry"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/(web|hpw)[o0]s/i],describe:function(n){var t={name:"WebOS Browser"},i=r.default.getFirstMatch(u,n)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/bada/i],describe:function(n){var t={name:"Bada"},i=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/tizen/i],describe:function(n){var t={name:"Tizen"},i=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/qupzilla/i],describe:function(n){var t={name:"QupZilla"},i=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(n){var t={name:"Firefox"},i=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/electron/i],describe:function(n){var t={name:"Electron"},i=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/chromium/i],describe:function(n){var t={name:"Chromium"},i=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,n)||r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/chrome|crios|crmo/i],describe:function(n){var t={name:"Chrome"},i=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/GSA/i],describe:function(n){var t={name:"Google Search"},i=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:function(n){var t=!n.test(/like android/i),i=n.test(/android/i);return t&&i},describe:function(n){var t={name:"Android Browser"},i=r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/playstation 4/i],describe:function(n){var t={name:"PlayStation 4"},i=r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/safari|applewebkit/i],describe:function(n){var t={name:"Safari"},i=r.default.getFirstMatch(u,n);return i&&(t.version=i),t}},{test:[/.*/i],describe:function(n){var t=-1!==n.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(t,n),version:r.default.getSecondMatch(t,n)}}}];t.default=e;n.exports=t.default},93:function(n,t,i){"use strict";t.__esModule=!0;t.default=void 0;var f,r=(f=i(17))&&f.__esModule?f:{"default":f},u=i(18),e=[{test:[/Roku\/DVP/],describe:function(n){var t=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,n);return{name:u.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(n){var t=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,n);return{name:u.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(n){var t=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,n),i=r.default.getWindowsVersionName(t);return{name:u.OS_MAP.Windows,version:t,versionName:i}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(n){var t=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,n);return{name:u.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(n){var t=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,n).replace(/[_\s]/g,"."),i=r.default.getMacOSVersionName(t),f={name:u.OS_MAP.MacOS,version:t};return i&&(f.versionName=i),f}},{test:[/(ipod|iphone|ipad)/i],describe:function(n){var t=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,n).replace(/[_\s]/g,".");return{name:u.OS_MAP.iOS,version:t}}},{test:function(n){var t=!n.test(/like android/i),i=n.test(/android/i);return t&&i},describe:function(n){var t=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,n),i=r.default.getAndroidVersionName(t),f={name:u.OS_MAP.Android,version:t};return i&&(f.versionName=i),f}},{test:[/(web|hpw)[o0]s/i],describe:function(n){var t=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,n),i={name:u.OS_MAP.WebOS};return t&&t.length&&(i.version=t),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(n){var t=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,n)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,n)||r.default.getFirstMatch(/\bbb(\d+)/i,n);return{name:u.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(n){var t=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,n);return{name:u.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(n){var t=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,n);return{name:u.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:u.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:u.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(n){var t=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,n);return{name:u.OS_MAP.PlayStation4,version:t}}}];t.default=e;n.exports=t.default},94:function(n,t,i){"use strict";t.__esModule=!0;t.default=void 0;var u,f=(u=i(17))&&u.__esModule?u:{"default":u},r=i(18),e=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(n){var t=f.default.getFirstMatch(/(can-l01)/i,n)&&"Nova",i={type:r.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(i.model=t),i}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:r.PLATFORMS_MAP.tablet}}},{test:function(n){var t=n.test(/ipod|iphone/i),i=n.test(/like (ipod|iphone)/i);return t&&!i},describe:function(n){var t=f.default.getFirstMatch(/(ipod|iphone)/i,n);return{type:r.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(n){return"blackberry"===n.getBrowserName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(n){return"bada"===n.getBrowserName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(n){return"windows phone"===n.getBrowserName()},describe:function(){return{type:r.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(n){var t=Number(String(n.getOSVersion()).split(".")[0]);return"android"===n.getOSName(!0)&&t>=3},describe:function(){return{type:r.PLATFORMS_MAP.tablet}}},{test:function(n){return"android"===n.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.mobile}}},{test:function(n){return"macos"===n.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(n){return"windows"===n.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.desktop}}},{test:function(n){return"linux"===n.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.desktop}}},{test:function(n){return"playstation 4"===n.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.tv}}},{test:function(n){return"roku"===n.getOSName(!0)},describe:function(){return{type:r.PLATFORMS_MAP.tv}}}];t.default=e;n.exports=t.default},95:function(n,t,i){"use strict";t.__esModule=!0;t.default=void 0;var f,u=(f=i(17))&&f.__esModule?f:{"default":f},r=i(18),e=[{test:function(n){return"microsoft edge"===n.getBrowserName(!0)},describe:function(n){if(/\sedg\//i.test(n))return{name:r.ENGINE_MAP.Blink};var t=u.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,n);return{name:r.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(n){var t={name:r.ENGINE_MAP.Trident},i=u.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:function(n){return n.test(/presto/i)},describe:function(n){var t={name:r.ENGINE_MAP.Presto},i=u.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:function(n){var t=n.test(/gecko/i),i=n.test(/like gecko/i);return t&&!i},describe:function(n){var t={name:r.ENGINE_MAP.Gecko},i=u.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:r.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(n){var t={name:r.ENGINE_MAP.WebKit},i=u.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,n);return i&&(t.version=i),t}}];t.default=e;n.exports=t.default}})});
/**
 * @file: vanilla.idle.js
 * @title: Vanilla Idle.
 * @description: A simple VanillaJS port of this jQuery plugin.
 * @author @hugohil
 * @version 1.2.7
 * @license https://opensource.org/licenses/MIT
 */
(function(){"use strict";window.idle=function(r){var c={idle:6e4,events:["mousemove","keydown","mousedown","touchstart"],onIdle:function(){},onActive:function(){},onHide:function(){},onShow:function(){},keepTracking:!0,startAtIdle:!1,recurIdleCall:!1},u=i({},c,r),o=u.startAtIdle,f=!u.startAtIdle,l=["visibilitychange","webkitvisibilitychange","mozvisibilitychange","msvisibilitychange"],e=null,s,h;return window.addEventListener("idle:stop",function(){t(window,u.events);u.keepTracking=!1;s(e,u)}),s=function(n,t){return o&&(o=!1,t.onActive.call()),clearTimeout(n),t.keepTracking?h(t):void 0},h=function(n){var t=n.recurIdleCall?setInterval:setTimeout;return t(function(){o=!0;n.onIdle.call()},n.idle)},{start:function(){e=h(u);n(window,u.events,function(){e=s(e,u)});(u.onShow||u.onHide)&&n(document,l,function(){document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?f&&(f=!1,u.onHide.call()):f||(f=!0,u.onShow.call())})}}};var n=function(n,t,i){t.forEach(function(t){n.addEventListener(t,function(n){i(n)})})},t=function(n,t){t.forEach(function(t){n.removeEventListener(t)})},i=function(n){var t,i;for(n=n||{},t=1;t<arguments.length;t++)if(arguments[t])for(i in arguments[t])arguments[t].hasOwnProperty(i)&&(n[i]=arguments[t][i]);return n}})();
/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n.PhotoSwipe=t()}(this,function(){"use strict";return function(n,t,i,r){var f={features:null,bind:function(n,t,i,r){var f=(r?"remove":"add")+"EventListener",u;for(t=t.split(" "),u=0;u<t.length;u++)t[u]&&n[f](t[u],i,!1)},isArray:function(n){return n instanceof Array},createEl:function(n,t){var i=document.createElement(t||"div");return n&&(i.className=n),i},getScrollY:function(){var n=window.pageYOffset;return void 0!==n?n:document.documentElement.scrollTop},unbind:function(n,t,i){f.bind(n,t,i,!0)},removeClass:function(n,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");n.className=n.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(n,t){f.hasClass(n,t)||(n.className+=(n.className?" ":"")+t)},hasClass:function(n,t){return n.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n.className)},getChildByClass:function(n,t){for(var i=n.firstChild;i;){if(f.hasClass(i,t))return i;i=i.nextSibling}},arraySearch:function(n,t,i){for(var r=n.length;r--;)if(n[r][i]===t)return r;return-1},extend:function(n,t,i){for(var r in t)if(t.hasOwnProperty(r)){if(i&&n.hasOwnProperty(r))continue;n[r]=t[r]}},easing:{sine:{out:function(n){return Math.sin(n*(Math.PI/2))},inOut:function(n){return-(Math.cos(Math.PI*n)-1)/2}},cubic:{out:function(n){return--n*n*n+1}}},detectFeatures:function(){var o,i,s,r,e,l;if(f.features)return f.features;var a=f.createEl(),v=a.style,t="",n={};(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,n.pointerEvent)||(o=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(i=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i&&i.length>0&&(i=parseInt(i[1],10),i>=1&&i<8&&(n.isOldIOSPhone=!0))),s=o.match(/Android\s([0-9\.]*)/),r=s?s[1]:0,r=parseFloat(r),r>=1&&(r<4.4&&(n.isOldAndroid=!0),n.androidVersion=r),n.isMobileOpera=/opera mini|opera mobi/i.test(o));for(var u,h,y=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],c=0;c<4;c++){for(t=p[c],e=0;e<3;e++)u=y[e],h=t+(t?u.charAt(0).toUpperCase()+u.slice(1):u),!n[u]&&h in v&&(n[u]=h);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}return n.raf||(l=0,n.raf=function(n){var t=(new Date).getTime(),i=Math.max(0,16-(t-l)),r=window.setTimeout(function(){n(t+i)},i);return l=t+i,r},n.caf=function(n){clearTimeout(n)}),n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f.features=n,n}},si,uf,ff,et;f.detectFeatures();f.features.oldIE&&(f.bind=function(n,t,i,r){t=t.split(" ");for(var u,e=(r?"detach":"attach")+"Event",o=function(){i.handleEvent.call(i)},f=0;f<t.length;f++)if(u=t[f])if("object"==typeof i&&i.handleEvent){if(r){if(!i["oldIE"+u])return!1}else i["oldIE"+u]=o;n[e]("on"+u,i["oldIE"+u])}else n[e]("on"+u,i)});var u=this,pe=25,dt=3,e={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(n){return"A"===n.tagName},getDoubleTapZoom:function(n,t){return n?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};f.extend(e,r);var gi,we,of,h,be,vt,lr,eu,b,l,hi,sf,hf,cf,ou,y,ke,su,hu,ar,cu,nr,gt,yt,lu,lf,de,ge,af,ci,a,vf,no,au,vr,yf,yr,pr,ct,pf,li,tr,vu,ai,ot,pt,to,io,s,wt,d,ni,wf,yu,pu,wu,bu,ti=function(){return{x:0,y:0}},ii=ti(),ir=ti(),o=ti(),k={},ri=0,rr={},rt=ti(),ht=0,ku=!0,bf=[],wr={},vi=!1,br=function(n,t){f.extend(u,t.publicMethods);bf.push(n)},du=function(n){var t=ft();return n>t-1?n-t:n<0?t+n:n},kr={},v=function(n,t){return kr[n]||(kr[n]=[]),kr[n].push(t)},c=function(n){var i=kr[n],r,t;if(i)for(r=Array.prototype.slice.call(arguments),r.shift(),t=0;t<i.length;t++)i[t].apply(u,r)},lt=function(){return(new Date).getTime()},bt=function(n){pu=n;u.bg.style.opacity=n*e.bgOpacity},ro=function(n,t,i,r,f){(!vi||f&&f!==u.currItem)&&(r/=f?f.fitRatio:u.currItem.fitRatio);n[nr]=sf+t+"px, "+i+"px"+hf+" scale("+r+")"},p=function(n){wt&&(n&&(l>u.currItem.fitRatio?vi||(di(u.currItem,!1,!0),vi=!0):vi&&(di(u.currItem),vi=!1)),ro(wt,o.x,o.y,l))},dr=function(n){n.container&&ro(n.container.style,n.initialPosition.x,n.initialPosition.y,n.initialZoomLevel,n)},ur=function(n,t){t[nr]=sf+n+"px, 0px"+hf},gu=function(n,t){if(!e.loop&&t){var r=h+(rt.x*ri-n)/rt.x,i=Math.round(n-kt.x);(r<0&&i>0||r>=ft()-1&&i<0)&&(n=kt.x+i*e.mainScrollEndFriction)}kt.x=n;ur(n,be)},kf=function(n,t){var i=iu[n]-rr[n];return ir[n]+ii[n]+i-i*(t/hi)},g=function(n,t){n.x=t.x;n.y=t.y;t.id&&(n.id=t.id)},uo=function(n){n.x=Math.round(n.x);n.y=Math.round(n.y)},df=null,gf=function(){df&&(f.unbind(document,"mousemove",gf),f.addClass(n,"pswp--has_mouse"),e.mouseUsed=!0,c("mouseUsed"));df=setTimeout(function(){df=null},100)},os=function(){f.bind(document,"keydown",u);a.transform&&f.bind(u.scrollWrap,"click",u);e.mouseUsed||f.bind(document,"mousemove",gf);f.bind(window,"resize scroll orientationchange",u);c("bindEvents")},ss=function(){f.unbind(window,"resize scroll orientationchange",u);f.unbind(window,"scroll",b.scroll);f.unbind(document,"keydown",u);f.unbind(document,"mousemove",gf);a.transform&&f.unbind(u.scrollWrap,"click",u);ct&&f.unbind(window,lr,u);clearTimeout(vf);c("unbindEvents")},ne=function(n,t){var i=uu(u.currItem,k,n);return t&&(s=i),i},fo=function(n){return n||(n=u.currItem),n.initialZoomLevel},eo=function(n){return n||(n=u.currItem),n.w>0?e.maxSpreadZoom:1},oo=function(n,t,i,r){return r===u.currItem.initialZoomLevel?(i[n]=u.currItem.initialPosition[n],!0):(i[n]=kf(n,r),i[n]>t.min[n]?(i[n]=t.min[n],!0):i[n]<t.max[n]&&(i[n]=t.max[n],!0))},hs=function(){if(nr){var t=a.perspective&&!yt;return sf="translate"+(t?"3d(":"("),void(hf=a.perspective?", 0px)":")")}nr="left";f.addClass(n,"pswp--ie");ur=function(n,t){t.left=n+"px"};dr=function(n){var i=n.fitRatio>1?1:n.fitRatio,t=n.container.style,r=i*n.w,u=i*n.h;t.width=r+"px";t.height=u+"px";t.left=n.initialPosition.x+"px";t.top=n.initialPosition.y+"px"};p=function(){if(wt){var n=wt,t=u.currItem,i=t.fitRatio>1?1:t.fitRatio,r=i*t.w,f=i*t.h;n.width=r+"px";n.height=f+"px";n.left=o.x+"px";n.top=o.y+"px"}}},cs=function(n){var t="";e.escKey&&27===n.keyCode?t="close":e.arrowKeys&&(37===n.keyCode?t="prev":39===n.keyCode&&(t="next"));t&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||(n.preventDefault?n.preventDefault():n.returnValue=!1,u[t]()))},ls=function(n){n&&(tr||li||d||yr)&&(n.preventDefault(),n.stopPropagation())},so=function(){u.setScrollOffset(0,f.getScrollY())},ut={},fr=0,gr=function(n){ut[n]&&(ut[n].raf&&lf(ut[n].raf),fr--,delete ut[n])},te=function(n){ut[n]&&gr(n);ut[n]||(fr++,ut[n]={})},nu=function(){for(var n in ut)ut.hasOwnProperty(n)&&gr(n)},tu=function(n,t,i,r,u,f,e){var o,h=lt(),s;te(n);s=function(){if(ut[n]){if(o=lt()-h,o>=r)return gr(n),f(i),void(e&&e());f((i-t)*u(o/r)+t);ut[n].raf=lu(s)}};s()},as={shout:c,listen:v,viewportSize:k,options:e,isMainScrollAnimating:function(){return d},getZoomLevel:function(){return l},getCurrentIndex:function(){return h},isDragging:function(){return ct},isZooming:function(){return pt},setScrollOffset:function(n,t){rr.x=n;ci=rr.y=t;c("updateScrollOffset",rr)},applyZoomPan:function(n,t,i,r){o.x=t;o.y=i;l=n;p(r)},init:function(){var i,o,s,r;if(!gi&&!we){for(u.framework=f,u.template=n,u.bg=f.getChildByClass(n,"pswp__bg"),de=n.className,gi=!0,a=f.detectFeatures(),lu=a.raf,lf=a.caf,nr=a.transform,af=a.oldIE,u.scrollWrap=f.getChildByClass(n,"pswp__scroll-wrap"),u.container=f.getChildByClass(u.scrollWrap,"pswp__container"),be=u.container.style,u.itemHolders=y=[{el:u.container.children[0],wrap:0,index:-1},{el:u.container.children[1],wrap:0,index:-1},{el:u.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",hs(),b={resize:u.updateSize,orientationchange:function(){clearTimeout(vf);vf=setTimeout(function(){k.x!==u.scrollWrap.clientWidth&&u.updateSize()},500)},scroll:so,keydown:cs,click:ls},o=a.isOldIOSPhone||a.isOldAndroid||a.isMobileOpera,a.animationName&&a.transform&&!o||(e.showAnimationDuration=e.hideAnimationDuration=0),i=0;i<bf.length;i++)u["init"+bf[i]]();for(t&&(s=u.ui=new t(u,f),s.init()),c("firstUpdate"),h=h||e.index||0,(isNaN(h)||h<0||h>=ft())&&(h=0),u.currItem=oi(h),(a.isOldIOSPhone||a.isOldAndroid)&&(ku=!1),n.setAttribute("aria-hidden","false"),e.modal&&(ku?n.style.position="fixed":(n.style.position="absolute",n.style.top=f.getScrollY()+"px")),void 0===ci&&(c("initialLayout"),ci=ge=f.getScrollY()),r="pswp--open ",e.mainClass&&(r+=e.mainClass+" "),e.showHideOpacity&&(r+="pswp--animate_opacity "),r+=yt?"pswp--touch":"pswp--notouch",r+=a.animationName?" pswp--css_animation":"",r+=a.svg?" pswp--svg":"",f.addClass(n,r),u.updateSize(),vt=-1,ht=null,i=0;i<dt;i++)ur((i+vt)*rt.x,y[i].el.style);af||f.bind(u.scrollWrap,eu,u);v("initialZoomInEnd",function(){u.setContent(y[0],h-1);u.setContent(y[2],h+1);y[0].el.style.display=y[2].el.style.display="block";e.focus&&n.focus();os()});u.setContent(y[1],h);u.updateCurrItem();c("afterInit");ku||(cf=setInterval(function(){fr||ct||pt||l!==u.currItem.initialZoomLevel||u.updateSize()},1e3));f.addClass(n,"pswp--visible")}},close:function(){gi&&(gi=!1,we=!0,c("close"),ss(),ko(u.currItem,null,!0,u.destroy))},destroy:function(){c("destroy");bi&&clearTimeout(bi);n.setAttribute("aria-hidden","true");n.className=de;cf&&clearInterval(cf);f.unbind(u.scrollWrap,eu,u);f.unbind(window,"scroll",u);ue();nu();kr=null},panTo:function(n,t,i){i||(n>s.min.x?n=s.min.x:n<s.max.x&&(n=s.max.x),t>s.min.y?t=s.min.y:t<s.max.y&&(t=s.max.y));o.x=n;o.y=t;p()},handleEvent:function(n){n=n||window.event;b[n.type]&&b[n.type](n)},goTo:function(n){n=du(n);var t=n-h;ht=t;h=n;u.currItem=oi(h);ri-=t;gu(rt.x*ri);nu();d=!1;u.updateCurrItem()},next:function(){u.goTo(h+1)},prev:function(){u.goTo(h-1)},updateCurrZoomItem:function(n){if(n&&c("beforeChange",0),y[1].el.children.length){var t=y[1].el.children[0];wt=f.hasClass(t,"pswp__zoom-wrap")?t.style:null}else wt=null;s=u.currItem.bounds;hi=l=u.currItem.initialZoomLevel;o.x=s.center.x;o.y=s.center.y;n&&c("afterChange")},invalidateCurrItems:function(){ou=!0;for(var n=0;n<dt;n++)y[n].item&&(y[n].item.needsUpdate=!0)},updateCurrItem:function(n){var t,i,r,f;if(0!==ht&&(i=Math.abs(ht),!(n&&i<2))){for(u.currItem=oi(h),vi=!1,c("beforeChange",ht),i>=dt&&(vt+=ht+(ht>0?-dt:dt),i=dt),r=0;r<i;r++)ht>0?(t=y.shift(),y[dt-1]=t,vt++,ur((vt+2)*rt.x,t.el.style),u.setContent(t,h-i+r+1+1)):(t=y.pop(),y.unshift(t),vt--,ur(vt*rt.x,t.el.style),u.setContent(t,h+i-r-2));wt&&1===Math.abs(ht)&&(f=oi(ke),f.initialZoomLevel!==l&&(uu(f,k),di(f),dr(f)));ht=0;u.updateCurrZoomItem();ke=h;c("afterChange")}},updateSize:function(t){var w,v,i,r,a;if(!ku&&e.modal){if(w=f.getScrollY(),ci!==w&&(n.style.top=w+"px",ci=w),!t&&wr.x===window.innerWidth&&wr.y===window.innerHeight)return;wr.x=window.innerWidth;wr.y=window.innerHeight;n.style.height=wr.y+"px"}if(k.x=u.scrollWrap.clientWidth,k.y=u.scrollWrap.clientHeight,so(),rt.x=k.x+Math.round(k.x*e.spacing),rt.y=k.y,gu(rt.x*ri),c("beforeResize"),void 0!==vt){for(a=0;a<dt;a++)v=y[a],ur((a+vt)*rt.x,v.el.style),r=h+a-1,e.loop&&ft()>2&&(r=du(r)),i=oi(r),i&&(ou||i.needsUpdate||!i.bounds)?(u.cleanSlide(i),u.setContent(v,r),1===a&&(u.currItem=i,u.updateCurrZoomItem(!0)),i.needsUpdate=!1):v.index===-1&&r>=0&&u.setContent(v,r),i&&i.container&&(uu(i,k),di(i),dr(i));ou=!1}hi=l=u.currItem.initialZoomLevel;s=u.currItem.bounds;s&&(o.x=s.center.x,o.y=s.center.y,p(!0));c("resize")},zoomTo:function(n,t,i,r,u){var h,e,c,s,a;t&&(hi=l,iu.x=Math.abs(t.x)-o.x,iu.y=Math.abs(t.y)-o.y,g(ir,o));h=ne(n,!1);e={};oo("x",h,e,n);oo("y",h,e,n);c=l;s={x:o.x,y:o.y};uo(e);a=function(t){1===t?(l=n,o.x=e.x,o.y=e.y):(l=(n-c)*t+c,o.x=(e.x-s.x)*t+s.x,o.y=(e.y-s.y)*t+s.y);u&&u(t);p(1===t)};i?tu("customZoomTo",0,1,i,r||f.easing.sine.inOut,a):a(1)}},ho=30,ie=10,nt={},yi={},tt={},it={},er={},ui=[],pi={},wi=[],or={},nf=0,tf=ti(),re=0,kt=ti(),iu=ti(),sr=ti(),vs=function(n,t){return n.x===t.x&&n.y===t.y},ys=function(n,t){return Math.abs(n.x-t.x)<pe&&Math.abs(n.y-t.y)<pe},co=function(n,t){return or.x=Math.abs(n.x-t.x),or.y=Math.abs(n.y-t.y),Math.sqrt(or.x*or.x+or.y*or.y)},ue=function(){vu&&(lf(vu),vu=null)},lo=function(){ct&&(vu=lu(lo),gs())},ps=function(){return!("fit"===e.scaleMode&&l===u.currItem.initialZoomLevel)},ao=function(n,t){return!(!n||n===document)&&!(n.getAttribute("class")&&n.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(n)?n:ao(n.parentNode,t))},fe={},vo=function(n,t){return fe.prevent=!ao(n.target,e.isClickableElement),c("preventDragEvent",n,t,fe),fe.prevent},yo=function(n,t){return t.x=n.pageX,t.y=n.pageY,t.id=n.identifier,t},po=function(n,t,i){i.x=.5*(n.x+t.x);i.y=.5*(n.y+t.y)},ws=function(n,t,i){if(n-au>50){var r=wi.length>2?wi.shift():{};r.x=t;r.y=i;wi.push(r);au=n}},wo=function(){var n=o.y-u.currItem.initialPosition.y;return 1-Math.abs(n/(k.y/2))},ru={},bs={},fi=[],ee=function(n){for(;fi.length>0;)fi.pop();return gt?(bu=0,ui.forEach(function(n){0===bu?fi[0]=n:1===bu&&(fi[1]=n);bu++})):n.type.indexOf("touch")>-1?n.touches&&n.touches.length>0&&(fi[0]=yo(n.touches[0],ru),n.touches.length>1&&(fi[1]=yo(n.touches[1],bs))):(ru.x=n.pageX,ru.y=n.pageY,ru.id="",fi[0]=ru),fi},bo=function(n,t){var f,c,a,i,y=0,r=o[n]+t[n],p=t[n]>0,h=kt.x+t.x,v=kt.x-pi.x;return f=r>s.min[n]||r<s.max[n]?e.panEndFriction:1,r=o[n]+t[n]*f,!e.allowPanToNext&&l!==u.currItem.initialZoomLevel||(wt?"h"!==ni||"x"!==n||li||(p?(r>s.min[n]&&(f=e.panEndFriction,y=s.min[n]-r,c=s.min[n]-ir[n]),(c<=0||v<0)&&ft()>1?(i=h,v<0&&h>pi.x&&(i=pi.x)):s.min.x!==s.max.x&&(a=r)):(r<s.max[n]&&(f=e.panEndFriction,y=r-s.max[n],c=ir[n]-s.max[n]),(c<=0||v>0)&&ft()>1?(i=h,v>0&&h<pi.x&&(i=pi.x)):s.min.x!==s.max.x&&(a=r))):i=h,"x"!==n)?void(d||ai||l>u.currItem.fitRatio&&(o[n]+=t[n]*f)):(void 0!==i&&(gu(i,!0),ai=i!==pi.x),s.min.x!==s.max.x&&(void 0!==a?o.x=a:ai||(o.x+=t.x*f)),void 0!==i)},ks=function(n){var i,t,r;if(!("mousedown"===n.type&&n.button>0)){if(hr)return void n.preventDefault();pr&&"mousedown"===n.type||((vo(n,!0)&&n.preventDefault(),c("pointerDown"),gt)&&(i=f.arraySearch(ui,n.pointerId,"id"),i<0&&(i=ui.length),ui[i]={x:n.pageX,y:n.pageY,id:n.pointerId}),t=ee(n),r=t.length,ot=null,nu(),ct&&1!==r||(ct=wf=!0,f.bind(window,lr,u),yf=wu=yu=yr=ai=tr=pf=li=!1,ni=null,c("firstTouchStart",t),g(ir,o),ii.x=ii.y=0,g(it,t[0]),g(er,it),pi.x=rt.x*ri,wi=[{x:it.x,y:it.y}],au=no=lt(),ne(l,!0),ue(),lo()),!pt&&r>1&&!d&&!ai&&(hi=l,li=!1,pt=pf=!0,ii.y=ii.x=0,g(ir,o),g(nt,t[0]),g(yi,t[1]),po(nt,yi,sr),iu.x=Math.abs(sr.x)-o.x,iu.y=Math.abs(sr.y)-o.y,to=io=co(nt,yi)))}},ds=function(n){var i,r,t,u;(n.preventDefault(),gt)&&(i=f.arraySearch(ui,n.pointerId,"id"),i>-1&&(r=ui[i],r.x=n.pageX,r.y=n.pageY));ct&&(t=ee(n),ni||tr||pt?ot=t:kt.x!==rt.x*ri?ni="h":(u=Math.abs(t[0].x-it.x)-Math.abs(t[0].y-it.y),Math.abs(u)>=ie&&(ni=u>0?"h":"v",ot=t)))},gs=function(){var r,f,n,y,a,v,w;if(ot&&(r=ot.length,0!==r))if(g(nt,ot[0]),tt.x=nt.x-it.x,tt.y=nt.y-it.y,pt&&r>1){if(it.x=nt.x,it.y=nt.y,!tt.x&&!tt.y&&vs(ot[1],yi))return;g(yi,ot[1]);li||(li=!0,c("zoomGestureStarted"));f=co(nt,yi);n=uh(f);n>u.currItem.initialZoomLevel+u.currItem.initialZoomLevel/15&&(wu=!0);var t=1,i=fo(),h=eo();n<i?e.pinchToClose&&!wu&&hi<=u.currItem.initialZoomLevel?(y=i-n,a=1-y/(i/1.2),bt(a),c("onPinchClose",a),yu=!0):(t=(i-n)/i,t>1&&(t=1),n=i-t*(i/3)):n>h&&(t=(n-h)/(6*i),t>1&&(t=1),n=h+t*i);t<0&&(t=0);to=f;po(nt,yi,tf);ii.x+=tf.x-sr.x;ii.y+=tf.y-sr.y;g(sr,tf);o.x=kf("x",n);o.y=kf("y",n);yf=n>l;l=n;p()}else{if(!ni)return;if(wf&&(wf=!1,Math.abs(tt.x)>=ie&&(tt.x-=ot[0].x-er.x),Math.abs(tt.y)>=ie&&(tt.y-=ot[0].y-er.y)),it.x=nt.x,it.y=nt.y,0===tt.x&&0===tt.y)return;if("v"===ni&&e.closeOnVerticalDrag&&!ps())return ii.y+=tt.y,o.y+=tt.y,v=wo(),yr=!0,c("onVerticalDrag",v),bt(v),void p();ws(lt(),nt.x,nt.y);tr=!0;s=u.currItem.bounds;w=bo("x",tt);w||(bo("y",tt),uo(o),p())}},nh=function(n){var i,h,b,r,v,t,s,k,y,w,nt;if(a.isOldAndroid){if(pr&&"mouseup"===n.type)return;n.type.indexOf("touch")>-1&&(clearTimeout(pr),pr=setTimeout(function(){pr=0},600))}if(c("pointerUp"),vo(n,!1)&&n.preventDefault(),gt&&(h=f.arraySearch(ui,n.pointerId,"id"),h>-1&&((i=ui.splice(h,1)[0],navigator.msPointerEnabled)?(b={4:"mouse",2:"touch",3:"pen"},i.type=b[n.pointerType],i.type||(i.type=n.pointerType||"mouse")):i.type=n.pointerType||"mouse")),v=ee(n),t=v.length,"mouseup"===n.type&&(t=0),2===t)return ot=null,!0;if(1===t&&g(er,v[0]),0!==t||ni||d||(i||("mouseup"===n.type?i={x:n.pageX,y:n.pageY,type:"mouse"}:n.changedTouches&&n.changedTouches[0]&&(i={x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY,type:"touch"})),c("touchRelease",n,i)),s=-1,0===t&&(ct=!1,f.unbind(window,lr,u),ue(),pt?s=0:re!==-1&&(s=lt()-re)),re=1===t?lt():-1,r=s!==-1&&s<150?"zoom":"swipe",pt&&t<2&&(pt=!1,1===t&&(r="zoomPointerUp"),c("zoomGestureEnded")),ot=null,tr||li||d||yr)if(nu(),vr||(vr=th()),vr.calculateSwipeSpeed("x"),yr)k=wo(),k<e.verticalDragRange?u.close():(y=o.y,w=pu,tu("verticalDrag",0,1,300,f.easing.cubic.out,function(n){o.y=(u.currItem.initialPosition.y-y)*n+y;bt((1-w)*n+w);p()}),c("onVerticalDrag",1));else{if((ai||d)&&0===t){if(nt=rh(r,vr),nt)return;r="zoomPointerUp"}if(!d)return"swipe"!==r?void fh():void(!ai&&l>u.currItem.fitRatio&&ih(vr))}},th=function(){var t,i,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){wi.length>1?(t=lt()-au+50,i=wi[wi.length-2][r]):(t=lt()-no,i=er[r]);n.lastFlickOffset[r]=it[r]-i;n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]);n.lastFlickSpeed[r]=n.lastFlickDist[r]>20?n.lastFlickOffset[r]/t:0;Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0);n.slowDownRatio[r]=.95;n.slowDownRatioReverse[r]=1-n.slowDownRatio[r];n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(t,i){n.backAnimStarted[t]||(o[t]>s.min[t]?n.backAnimDestination[t]=s.min[t]:o[t]<s.max[t]&&(n.backAnimDestination[t]=s.max[t]),void 0!==n.backAnimDestination[t]&&(n.slowDownRatio[t]=.7,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatioAbs[t]<.05&&(n.lastFlickSpeed[t]=0,n.backAnimStarted[t]=!0,tu("bounceZoomPan"+t,o[t],n.backAnimDestination[t],i||300,f.easing.sine.out,function(n){o[t]=n;p()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,o[t]+=n.distanceOffset[t])},panAnimLoop:function(){if(ut.zoomPan&&(ut.zoomPan.raf=lu(n.panAnimLoop),n.now=lt(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),p(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return o.x=Math.round(o.x),o.y=Math.round(o.y),p(),void gr("zoomPan")}};return n},ih=function(n){return n.calculateSwipeSpeed("y"),s=u.currItem.bounds,n.backAnimDestination={},n.backAnimStarted={},Math.abs(n.lastFlickSpeed.x)<=.05&&Math.abs(n.lastFlickSpeed.y)<=.05?(n.speedDecelerationRatioAbs.x=n.speedDecelerationRatioAbs.y=0,n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),!0):(te("zoomPan"),n.lastNow=lt(),void n.panAnimLoop())},rh=function(n,t){var r,o,l,a,v,i,s,y;return d||(nf=h),"swipe"===n&&(l=it.x-er.x,a=t.lastFlickDist.x<10,l>ho&&(a||t.lastFlickOffset.x>20)?o=-1:l<-ho&&(a||t.lastFlickOffset.x<-20)&&(o=1)),o&&(h+=o,h<0?(h=e.loop?ft()-1:0,v=!0):h>=ft()&&(h=e.loop?0:ft()-1,v=!0),v&&!e.loop||(ht+=o,ri-=o,r=!0)),s=rt.x*ri,y=Math.abs(s-kt.x),r||s>kt.x==t.lastFlickSpeed.x>0?(i=Math.abs(t.lastFlickSpeed.x)>0?y/Math.abs(t.lastFlickSpeed.x):333,i=Math.min(i,400),i=Math.max(i,250)):i=333,nf===h&&(r=!1),d=!0,c("mainScrollAnimStart"),tu("mainScroll",kt.x,s,i,f.easing.cubic.out,gu,function(){nu();d=!1;nf=-1;(r||nf!==h)&&u.updateCurrItem();c("mainScrollAnimComplete")}),r&&u.updateCurrItem(!0),r},uh=function(n){return 1/io*n*hi},fh=function(){var n=l,t=fo(),r=eo(),e,o,i;return l<t?n=t:l>r&&(n=r),o=1,i=pu,yu&&!yf&&!wu&&l<t?(u.close(),!0):(yu&&(e=function(n){bt((o-i)*n+i)}),u.zoomTo(n,0,200,f.easing.cubic.out,e),!0)};br("Gestures",{publicMethods:{initGestures:function(){var n=function(n,t,i,r,u){su=n+t;hu=n+i;ar=n+r;cu=u?n+u:""};gt=a.pointerEvent;gt&&a.touch&&(a.touch=!1);gt?navigator.msPointerEnabled?n("MSPointer","Down","Move","Up","Cancel"):n("pointer","down","move","up","cancel"):a.touch?(n("touch","start","move","end","cancel"),yt=!0):n("mouse","down","move","up");lr=hu+" "+ar+" "+cu;eu=su;gt&&!yt&&(yt=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1);u.likelyTouchDevice=yt;b[su]=ks;b[hu]=ds;b[ar]=nh;cu&&(b[cu]=b[ar]);a.touch&&(eu+=" mousedown",lr+=" mousemove mouseup",b.mousedown=b[su],b.mousemove=b[hu],b.mouseup=b[ar]);yt||(e.allowPanToNext=!1)}}});var bi,ei,oe,hr,oi,ft,eh,ko=function(t,i,r,s){var a,v,y,w;if(bi&&clearTimeout(bi),hr=!0,oe=!0,t.initialLayout?(a=t.initialLayout,t.initialLayout=null):a=e.getThumbBoundsFn&&e.getThumbBoundsFn(h),v=r?e.hideAnimationDuration:e.showAnimationDuration,y=function(){gr("initialZoom");r?(u.template.removeAttribute("style"),u.bg.removeAttribute("style")):(bt(1),i&&(i.style.display="block"),f.addClass(n,"pswp--animated-in"),c("initialZoom"+(r?"OutEnd":"InEnd")));s&&s();hr=!1},!v||!a||void 0===a.x)return c("initialZoom"+(r?"Out":"In")),l=t.initialZoomLevel,g(o,t.initialPosition),p(),n.style.opacity=r?0:1,bt(1),void(v?setTimeout(function(){y()},v):y());w=function(){var s=of,i=!u.currItem.src||u.currItem.loadError||e.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden");r||(l=a.w/t.w,o.x=a.x,o.y=a.y-ge,u[i?"template":"bg"].style.opacity=.001,p());te("initialZoom");r&&!s&&f.removeClass(n,"pswp--animated-in");i&&(r?f[(s?"remove":"add")+"Class"](n,"pswp--animate_opacity"):setTimeout(function(){f.addClass(n,"pswp--animate_opacity")},30));bi=setTimeout(function(){if(c("initialZoom"+(r?"Out":"In")),r){var e=a.w/t.w,u={x:o.x,y:o.y},h=l,w=pu,b=function(t){1===t?(l=e,o.x=a.x,o.y=a.y-ci):(l=(e-h)*t+h,o.x=(a.x-u.x)*t+u.x,o.y=(a.y-ci-u.y)*t+u.y);p();i?n.style.opacity=1-t:bt(w-t*w)};s?tu("initialZoom",0,1,v,f.easing.cubic.out,b,y):(b(1),bi=setTimeout(y,v+20))}else l=t.initialZoomLevel,g(o,t.initialPosition),p(),bt(1),i?n.style.opacity=1:bt(1),bi=setTimeout(y,v+20)},r?25:90)};w()},st={},ki=[],oh={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image<\/a> could not be loaded.<\/div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return ei.length}},go=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},sh=function(n,t,i){var r=n.bounds;r.center.x=Math.round((st.x-t)/2);r.center.y=Math.round((st.y-i)/2)+n.vGap.top;r.max.x=t>st.x?Math.round(st.x-t):r.center.x;r.max.y=i>st.y?Math.round(st.y-i)+n.vGap.top:r.center.y;r.min.x=t>st.x?0:r.center.x;r.min.y=i>st.y?n.vGap.top:r.center.y},uu=function(n,t,i){var r,u,f,o;return n.src&&!n.loadError?(r=!i,(r&&(n.vGap||(n.vGap={top:0,bottom:0}),c("parseVerticalMargin",n)),st.x=t.x,st.y=t.y-n.vGap.top-n.vGap.bottom,r)&&(u=st.x/n.w,f=st.y/n.h,n.fitRatio=u<f?u:f,o=e.scaleMode,"orig"===o?i=1:"fit"===o&&(i=n.fitRatio),i>1&&(i=1),n.initialZoomLevel=i,n.bounds||(n.bounds=go())),!i)?void 0:(sh(n,n.w*i,n.h*i),r&&i===n.initialZoomLevel&&(n.initialPosition=n.bounds.center),n.bounds):(n.w=n.h=0,n.initialZoomLevel=n.fitRatio=1,n.bounds=go(),n.initialPosition=n.bounds.center,n.bounds)},rf=function(n,t,i,r,f,e){t.loadError||r&&(t.imageAppended=!0,di(t,r,t===u.currItem&&vi),i.appendChild(r),e&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},ns=function(n){n.loading=!0;n.loaded=!1;var t=n.img=f.createEl("pswp__img","img"),i=function(){n.loading=!1;n.loaded=!0;n.loadComplete?n.loadComplete(n):n.img=null;t.onload=t.onerror=null;t=null};return t.onload=i,t.onerror=function(){n.loadError=!0;i()},t.src=n.src,t},ts=function(n,t){if(n.src&&n.loadError&&n.container)return t&&(n.container.innerHTML=""),n.container.innerHTML=e.errorMsg.replace("%url%",n.src),!0},di=function(n,t,i){if(n.src){t||(t=n.container.lastChild);var r=i?n.w:Math.round(n.w*n.fitRatio),u=i?n.h:Math.round(n.h*n.fitRatio);n.placeholder&&!n.loaded&&(n.placeholder.style.width=r+"px",n.placeholder.style.height=u+"px");t.style.width=r+"px";t.style.height=u+"px"}},is=function(){if(ki.length){for(var n,t=0;t<ki.length;t++)n=ki[t],n.holder.index===n.index&&rf(n.index,n.item,n.baseDiv,n.img,!1,n.clearPlaceholder);ki=[]}};br("Controller",{publicMethods:{lazyLoadItem:function(n){n=du(n);var t=oi(n);t&&(!t.loaded&&!t.loading||ou)&&(c("gettingData",n,t),t.src&&ns(t))},initController:function(){f.extend(e,oh,!0);u.items=ei=i;oi=u.getItemAt;ft=e.getNumItemsFn;eh=e.loop;ft()<3&&(e.loop=!1);v("beforeChange",function(n){for(var i=e.preload,r=null===n||n>=0,f=Math.min(i[0],ft()),o=Math.min(i[1],ft()),t=1;t<=(r?o:f);t++)u.lazyLoadItem(h+t);for(t=1;t<=(r?f:o);t++)u.lazyLoadItem(h-t)});v("initialLayout",function(){u.currItem.initialLayout=e.getThumbBoundsFn&&e.getThumbBoundsFn(h)});v("mainScrollAnimComplete",is);v("initialZoomInEnd",is);v("destroy",function(){for(var n,t=0;t<ei.length;t++)n=ei[t],n.container&&(n.container=null),n.placeholder&&(n.placeholder=null),n.img&&(n.img=null),n.preloader&&(n.preloader=null),n.loadError&&(n.loaded=n.loadError=!1);ki=null})},getItemAt:function(n){return n>=0&&void 0!==ei[n]&&ei[n]},allowProgressiveImg:function(){return e.forceProgressiveLoading||!yt||e.mouseUsed||screen.width>1200},setContent:function(n,t){var l,o,i,r,v,s;if(e.loop&&(t=du(t)),l=u.getItemAt(n.index),l&&(l.container=null),i=u.getItemAt(t),!i)return void(n.el.innerHTML="");c("gettingData",t,i);n.index=t;n.item=i;r=i.container=f.createEl("pswp__zoom-wrap");(!i.src&&i.html&&(i.html.tagName?r.appendChild(i.html):r.innerHTML=i.html),ts(i),uu(i,k),!i.src||i.loadError||i.loaded)?i.src&&!i.loadError&&(o=f.createEl("pswp__img","img"),o.style.opacity=1,o.src=i.src,di(i,o),rf(t,i,r,o,!0)):((i.loadComplete=function(i){if(gi){if(n&&n.index===t){if(ts(i,!0))return i.loadComplete=i.img=null,uu(i,k),dr(i),void(n.index===h&&u.updateCurrZoomItem());i.imageAppended?!hr&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):a.transform&&(d||hr)?ki.push({item:i,baseDiv:r,img:i.img,index:t,holder:n,clearPlaceholder:!0}):rf(t,i,r,i.img,d||hr,!0)}i.loadComplete=null;i.img=null;c("imageLoadComplete",t,i)}},f.features.transform)&&(v="pswp__img pswp__img--placeholder",v+=i.msrc?"":" pswp__img--placeholder--blank",s=f.createEl(v,i.msrc?"img":""),i.msrc&&(s.src=i.msrc),di(i,s),r.appendChild(s),i.placeholder=s),i.loading||ns(i),u.allowProgressiveImg()&&(!oe&&a.transform?ki.push({item:i,baseDiv:r,img:i.img,index:t,holder:n}):rf(t,i,r,i.img,!0,!0)));oe||t!==h?dr(i):(wt=r.style,ko(i,o||i.img));n.el.innerHTML="";n.el.appendChild(r)},cleanSlide:function(n){n.img&&(n.img.onload=n.img.onerror=null);n.loaded=n.loading=n.img=n.imageAppended=!1}}});uf={};ff=function(n,t,i){var r=document.createEvent("CustomEvent"),u={origEvent:n,target:n.target,releasePoint:t,pointerType:i||"touch"};r.initCustomEvent("pswpTap",!0,!0,u);n.target.dispatchEvent(r)};br("Tap",{publicMethods:{initTap:function(){v("firstTouchStart",u.onTapStart);v("touchRelease",u.onTapRelease);v("destroy",function(){uf={};si=null})},onTapStart:function(n){n.length>1&&(clearTimeout(si),si=null)},onTapRelease:function(n,t){var i,r;if(t&&!tr&&!pf&&!fr){if(i=t,si&&(clearTimeout(si),si=null,ys(i,uf)))return void c("doubleTap",i);if("mouse"===t.type)return void ff(n,t,"mouse");if(r=n.target.tagName.toUpperCase(),"BUTTON"===r||f.hasClass(n.target,"pswp__single-tap"))return void ff(n,t);g(uf,i);si=setTimeout(function(){ff(n,t);si=null},300)}}}});br("DesktopZoom",{publicMethods:{initDesktopZoom:function(){af||(yt?v("mouseUsed",function(){u.setupDesktopZoom()}):u.setupDesktopZoom(!0))},setupDesktopZoom:function(t){var r,e,i,o;et={};r="wheel mousewheel DOMMouseScroll";v("bindEvents",function(){f.bind(n,r,u.handleMouseWheel)});v("unbindEvents",function(){et&&f.unbind(n,r,u.handleMouseWheel)});u.mouseZoomedIn=!1;i=function(){u.mouseZoomedIn&&(f.removeClass(n,"pswp--zoomed-in"),u.mouseZoomedIn=!1);l<1?f.addClass(n,"pswp--zoom-allowed"):f.removeClass(n,"pswp--zoom-allowed");o()};o=function(){e&&(f.removeClass(n,"pswp--dragging"),e=!1)};v("resize",i);v("afterChange",i);v("pointerDown",function(){u.mouseZoomedIn&&(e=!0,f.addClass(n,"pswp--dragging"))});v("pointerUp",o);t||i()},handleMouseWheel:function(n){if(l<=u.currItem.fitRatio)return e.modal&&(!e.closeOnScroll||fr||ct?n.preventDefault():nr&&Math.abs(n.deltaY)>2&&(of=!0,u.close())),!0;if(n.stopPropagation(),et.x=0,"deltaX"in n)1===n.deltaMode?(et.x=18*n.deltaX,et.y=18*n.deltaY):(et.x=n.deltaX,et.y=n.deltaY);else if("wheelDelta"in n)n.wheelDeltaX&&(et.x=-.16*n.wheelDeltaX),et.y=n.wheelDeltaY?-.16*n.wheelDeltaY:-.16*n.wheelDelta;else{if(!("detail"in n))return;et.y=n.detail}ne(l,!0);var t=o.x-et.x,i=o.y-et.y;(e.modal||t<=s.min.x&&t>=s.max.x&&i<=s.min.y&&i>=s.max.y)&&n.preventDefault();u.panTo(t,i)},toggleDesktopZoom:function(t){t=t||{x:k.x/2+rr.x,y:k.y/2+rr.y};var r=e.getDoubleTapZoom(!0,u.currItem),i=l===r;u.mouseZoomedIn=!i;u.zoomTo(i?u.currItem.initialZoomLevel:r,t,333);f[(i?"remove":"add")+"Class"](n,"pswp--zoomed-in")}}});var se,rs,fu,ef,he,us,w,cr,ce,le,at,ae,hh={history:!0,galleryUID:1},ve=function(){return at.hash.substring(1)},fs=function(){se&&clearTimeout(se);fu&&clearTimeout(fu)},es=function(){var u=ve(),n={},t,i,r,f;if(u.length<5)return n;for(i=u.split("&"),t=0;t<i.length;t++)i[t]&&(r=i[t].split("="),r.length<2||(n[r[0]]=r[1]));if(e.galleryPIDs){for(f=n.pid,n.pid=0,t=0;t<ei.length;t++)if(ei[t].pid===f){n.pid=t;break}}else n.pid=parseInt(n.pid,10)-1;return n.pid<0&&(n.pid=0),n},ye=function(){var t,i,n,r;if(fu&&clearTimeout(fu),fr||ct)return void(fu=setTimeout(ye,500));ef?clearTimeout(rs):ef=!0;t=h+1;i=oi(h);i.hasOwnProperty("pid")&&(t=i.pid);n=w+"&gid="+e.galleryUID+"&pid="+t;cr||at.hash.indexOf(n)===-1&&(le=!0);r=at.href.split("#")[0]+"#"+n;ae?"#"+n!==window.location.hash&&history[cr?"replaceState":"pushState"]("",document.title,r):cr?at.replace(r):at.hash=n;cr=!0;rs=setTimeout(function(){ef=!1},60)};br("History",{publicMethods:{initHistory:function(){var n,t;(f.extend(e,hh,!0),e.history)&&(at=window.location,le=!1,ce=!1,cr=!1,w=ve(),ae="pushState"in history,w.indexOf("gid=")>-1&&(w=w.split("&gid=")[0],w=w.split("?gid=")[0]),v("afterChange",u.updateURL),v("unbindEvents",function(){f.unbind(window,"hashchange",u.onHashChange)}),n=function(){us=!0;ce||(le?history.back():w?at.hash=w:ae?history.pushState("",document.title,at.pathname+at.search):at.hash="");fs()},v("unbindEvents",function(){of&&n()}),v("destroy",function(){us||n()}),v("firstUpdate",function(){h=es().pid}),t=w.indexOf("pid="),t>-1&&(w=w.substring(0,t),"&"===w.slice(-1)&&(w=w.slice(0,-1))),setTimeout(function(){gi&&f.bind(window,"hashchange",u.onHashChange)},40))},onHashChange:function(){return ve()===w?(ce=!0,void u.close()):void(ef||(he=!0,u.goTo(es().pid),he=!1))},updateURL:function(){fs();he||(cr?se=setTimeout(ye,800):ye())}}});f.extend(u,as)}});
/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(n,t){var e,u,a,c,rt,ut,s,ft,b,f,et,ot,st,ht,i,y,yt,k,d,r=this,g=!1,h=!0,o=!0,pt={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(n,t){return n.title?(t.children[0].innerHTML=n.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return n.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return n.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},ct=function(n){var e;if(y)return!0;n=n||window.event;i.timeToIdle&&i.mouseUsed&&!b&&it();for(var r,f,o=n.target||n.srcElement,s=o.getAttribute("class")||"",u=0;u<w.length;u++)r=w[u],r.onTap&&s.indexOf("pswp__"+r.name)>-1&&(r.onTap(),f=!0);f&&(n.stopPropagation&&n.stopPropagation(),y=!0,e=t.features.isOldAndroid?600:30,yt=setTimeout(function(){y=!1},e))},wt=function(){return!n.likelyTouchDevice||i.mouseUsed||screen.width>i.fitControlsWidth},l=function(n,i,r){t[(r?"add":"remove")+"Class"](n,"pswp__"+i)},lt=function(){var n=1===i.getNumItemsFn();n!==ht&&(l(u,"ui--one-slide",n),ht=n)},at=function(){l(s,"share-modal--hidden",o)},v=function(){return o=!o,o?(t.removeClass(s,"pswp__share-modal--fade-in"),setTimeout(function(){o&&at()},300)):(at(),setTimeout(function(){o||t.addClass(s,"pswp__share-modal--fade-in")},30)),o||kt(),!1},bt=function(t){t=t||window.event;var i=t.target||t.srcElement;return n.shout("shareLinkClick",t,i),!!i.href&&(!!i.hasAttribute("download")||(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),o||v(),!1))},kt=function(){for(var n,f,r,e,o,t="",u=0;u<i.shareButtons.length;u++)n=i.shareButtons[u],r=i.getImageURLForShare(n),e=i.getPageURLForShare(n),o=i.getTextForShare(n),f=n.url.replace("{{url}}",encodeURIComponent(e)).replace("{{image_url}}",encodeURIComponent(r)).replace("{{raw_image_url}}",r).replace("{{text}}",encodeURIComponent(o)),t+='<a href="'+f+'" target="_blank" class="pswp__share--'+n.id+'"'+(n.download?"download":"")+">"+n.label+"<\/a>",i.parseShareButtonOut&&(t=i.parseShareButtonOut(n,t));s.children[0].innerHTML=t;s.children[0].onclick=bt},nt=function(n){for(var r=0;r<i.closeElClasses.length;r++)if(t.hasClass(n,"pswp__"+i.closeElClasses[r]))return!0},tt=0,it=function(){clearTimeout(d);tt=0;b&&r.setIdle(!1)},vt=function(n){n=n?n:window.event;var t=n.relatedTarget||n.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(d),d=setTimeout(function(){r.setIdle(!0)},i.timeToIdleOutside))},dt=function(){i.fullscreenEl&&!t.features.isOldAndroid&&(e||(e=r.getFullscreenAPI()),e?(t.bind(document,e.eventK,r.updateFullscreen),r.updateFullscreen(),t.addClass(n.template,"pswp--supports-fs")):t.removeClass(n.template,"pswp--supports-fs"))},gt=function(){i.preloaderEl&&(p(!0),f("beforeChange",function(){clearTimeout(st);st=setTimeout(function(){n.currItem&&n.currItem.loading?(!n.allowProgressiveImg()||n.currItem.img&&!n.currItem.img.naturalWidth)&&p(!1):p(!0)},i.loadingIndicatorDelay)}),f("imageLoadComplete",function(t,i){n.currItem===i&&p(!0)}))},p=function(n){ot!==n&&(l(et,"preloader--active",!n),ot=n)},ni=function(n){var r=n.vGap,f,e;wt()?(f=i.barsSize,i.captionEl&&"auto"===f.bottom?(c||(c=t.createEl("pswp__caption pswp__caption--fake"),c.appendChild(t.createEl("pswp__caption__center")),u.insertBefore(c,a),t.addClass(u,"pswp__ui--fit")),i.addCaptionHTMLFn(n,c,!0))?(e=c.clientHeight,r.bottom=parseInt(e,10)||44):r.bottom=f.top:r.bottom="auto"===f.bottom?0:f.bottom,r.top=f.top):r.top=r.bottom=0},ti=function(){i.timeToIdle&&f("mouseUsed",function(){t.bind(document,"mousemove",it);t.bind(document,"mouseout",vt);k=setInterval(function(){tt++;2===tt&&r.setIdle(!0)},i.timeToIdle/2)})},ii=function(){f("onVerticalDrag",function(n){h&&n<.95?r.hideControls():!h&&n>=.95&&r.showControls()});var n;f("onPinchClose",function(t){h&&t<.9?(r.hideControls(),n=!0):n&&!h&&t>.9&&r.showControls()});f("zoomGestureEnded",function(){n=!1;n&&!h&&r.showControls()})},w=[{name:"caption",option:"captionEl",onInit:function(n){a=n}},{name:"share-modal",option:"shareEl",onInit:function(n){s=n},onTap:function(){v()}},{name:"button--share",option:"shareEl",onInit:function(n){ut=n},onTap:function(){v()}},{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(n){rt=n}},{name:"button--close",option:"closeEl",onTap:n.close},{name:"button--arrow--left",option:"arrowEl",onTap:n.prev},{name:"button--arrow--right",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){e.isFullscreen()?e.exit():e.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(n){et=n}}],ri=function(){var n,e,r,o=function(u){var s,f,o;if(u)for(s=u.length,f=0;f<s;f++)for(n=u[f],e=n.className,o=0;o<w.length;o++)r=w[o],e.indexOf("pswp__"+r.name)>-1&&(i[r.option]?(t.removeClass(n,"pswp__element--disabled"),r.onInit&&r.onInit(n)):t.addClass(n,"pswp__element--disabled"))},f;o(u.children);f=t.getChildByClass(u,"pswp__top-bar");f&&o(f.children)};r.init=function(){t.extend(n.options,pt,!0);i=n.options;u=t.getChildByClass(n.scrollWrap,"pswp__ui");f=n.listen;ii();f("beforeChange",r.update);f("doubleTap",function(t){var r=n.currItem.initialZoomLevel;n.getZoomLevel()!==r?n.zoomTo(r,t,333):n.zoomTo(i.getDoubleTapZoom(!1,n.currItem),t,333)});f("preventDragEvent",function(n,t,i){var r=n.target||n.srcElement;r&&r.getAttribute("class")&&n.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(i.prevent=!1)});f("bindEvents",function(){t.bind(u,"pswpTap click",ct);t.bind(n.scrollWrap,"pswpTap",r.onGlobalTap);n.likelyTouchDevice||t.bind(n.scrollWrap,"mouseover",r.onMouseOver)});f("unbindEvents",function(){o||v();k&&clearInterval(k);t.unbind(document,"mouseout",vt);t.unbind(document,"mousemove",it);t.unbind(u,"pswpTap click",ct);t.unbind(n.scrollWrap,"pswpTap",r.onGlobalTap);t.unbind(n.scrollWrap,"mouseover",r.onMouseOver);e&&(t.unbind(document,e.eventK,r.updateFullscreen),e.isFullscreen()&&(i.hideAnimationDuration=0,e.exit()),e=null)});f("destroy",function(){i.captionEl&&(c&&u.removeChild(c),t.removeClass(a,"pswp__caption--empty"));s&&(s.children[0].onclick=null);t.removeClass(u,"pswp__ui--over-close");t.addClass(u,"pswp__ui--hidden");r.setIdle(!1)});i.showAnimationDuration||t.removeClass(u,"pswp__ui--hidden");f("initialZoomIn",function(){i.showAnimationDuration&&t.removeClass(u,"pswp__ui--hidden")});f("initialZoomOut",function(){t.addClass(u,"pswp__ui--hidden")});f("parseVerticalMargin",ni);ri();i.shareEl&&ut&&s&&(o=!0);lt();ti();dt();gt()};r.setIdle=function(n){b=n;l(u,"ui--idle",n)};r.update=function(){h&&n.currItem?(r.updateIndexIndicator(),i.captionEl&&(i.addCaptionHTMLFn(n.currItem,a),l(a,"caption--empty",!n.currItem.title)),g=!0):g=!1;o||v();lt()};r.updateFullscreen=function(i){i&&setTimeout(function(){n.setScrollOffset(0,t.getScrollY())},50);t[(e.isFullscreen()?"add":"remove")+"Class"](n.template,"pswp--fs")};r.updateIndexIndicator=function(){i.counterEl&&(rt.innerHTML=n.getCurrentIndex()+1+i.indexIndicatorSep+i.getNumItemsFn())};r.onGlobalTap=function(u){u=u||window.event;var f=u.target||u.srcElement;if(!y)if(u.detail&&"mouse"===u.detail.pointerType){if(nt(f))return void n.close();t.hasClass(f,"pswp__img")&&(1===n.getZoomLevel()&&n.getZoomLevel()<=n.currItem.fitRatio?i.clickToCloseNonZoomable&&n.close():n.toggleDesktopZoom(u.detail.releasePoint))}else if(i.tapToToggleControls&&(h?r.hideControls():r.showControls()),i.tapToClose&&(t.hasClass(f,"pswp__img")||nt(f)))return void n.close()};r.onMouseOver=function(n){n=n||window.event;var t=n.target||n.srcElement;l(u,"ui--over-close",nt(t))};r.hideControls=function(){t.addClass(u,"pswp__ui--hidden");h=!1};r.showControls=function(){h=!0;g||r.update();t.removeClass(u,"pswp__ui--hidden")};r.supportsFullscreen=function(){var n=document;return!!(n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen)};r.getFullscreenAPI=function(){var t,r=document.documentElement,u="fullscreenchange";return r.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:u}:r.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+u}:r.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+u}:r.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return ft=i.closeOnScroll,i.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?n.template[this.enterK]():void n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return i.closeOnScroll=ft,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}});opportunites=[];jQuery("body").on("click",".js-volunteeringRemoveLink",function(n){var i,t,r;n.preventDefault();i=jQuery(this);t=i.data("id");removeElementById(t);jQuery('.js-volunteeringCheckbox[data-id="'+t+'"]').prop("checked",!1);r=jQuery(".js-volunteeringCheckbox");r.each(function(){var n=jQuery(this);n.is(":checked")||n.prop("disabled",!1)});toggleVolunteeringForm();toggleSelectedCheckbox()});jQuery("body").on("change",".js-volunteeringCheckbox",function(){var n=jQuery(this),r=n.data("type"),u=n.data("location"),f=n.data("supervisor"),e=n.data("address"),o=n.data("distance"),s=n.data("positions"),h=n.data("opportunityname"),c=n.data("region"),i=n.data("id"),t;n.is(":checked")?(opportunites.length<2&&(opportunites.push({id:i,type:r,location:u,supervisor:f,address:e,distance:o,positions:s,opportunityname:h,region:c}),selectedVolunteering()),opportunites.length===2&&(t=jQuery(".js-volunteeringCheckbox"),t.each(function(){var n=jQuery(this);n.is(":checked")||n.prop("disabled",!0)}))):(removeElementById(i),t=jQuery(".js-volunteeringCheckbox"),t.each(function(){var n=jQuery(this);n.is(":checked")||n.prop("disabled",!1)}));toggleVolunteeringForm()});jQuery("body").on("change",".js-volunteeringQuestion input[type='radio']",function(){var t=jQuery(this),n=t.val();jQuery(".js-volunteeringFormError").hide();n==="No"&&opportunites.some(function(n){return n.type==="Puppy Walker"})?(jQuery(".js-volunteeringScreening").removeClass("display-none"),jQuery(".js-volunteeringProceedBtn").prop("disabled",!0)):n==="No"?jQuery(".js-volunteeringProceedBtn").prop("disabled",!1):(jQuery(".js-volunteeringScreening").addClass("display-none"),jQuery(".js-volunteeringProceedBtn").prop("disabled",!0))});jQuery("body").on("change",".js-volunteeringScreening input[type='radio']",function(n){n.preventDefault();var i=jQuery(".js-volunteeringScreening input[type='radio'][value='Yes']"),r=jQuery(".js-volunteeringScreening input[type='radio'][value='No']:checked"),u=jQuery(".js-volunteeringScreening input[type='radio']"),t=0;i.each(function(){var n=jQuery(this);n.is(":checked")&&(t=t+1)});console.log("run");u.length/2===t?jQuery(".js-volunteeringProceedBtn").prop("disabled",!1):jQuery(".js-volunteeringProceedBtn").prop("disabled",!0);r.length>0?jQuery(".js-volunteeringFormError").show():jQuery(".js-volunteeringFormError").hide()});rolesSelected=[];locationsSelected=[];jQuery("[data-sc-field-name='Disabilities']").change(function(){sessionStorage.setItem("disabilities",jQuery('[data-sc-field-name="Disabilities"]').val())});window.addEventListener("resize",function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){window.equalHeightPods(".js-equalHeight")},500)});document.addEventListener("DOMContentLoaded",function(){window.checkRowBgs();window.equalHeightPods(".js-equalHeight");window.highlightCurrentPage();objectFitImages()})